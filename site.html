<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mahyar Shop — Ultimate Gaming Experience</title>
  <meta name="description" content="Mahyar Shop — premium gaming gear: headsets, mice, keyboards, monitors and accessories for pro gamers. Fast shipping, 24/7 support, and tournament-grade quality.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta name="theme-color" content="#0a0b1a">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{
 --bg:#0a0b1a;
 --bg-secondary:#0f1125;
 --glass:rgba(255,255,255,0.07);
 --glass-strong:rgba(255,255,255,0.12);
 --border:rgba(255,255,255,0.12);
 --text:#ffffff;
 --text-secondary:#b8c1e0;
 --accent:#6366f1;
 --accent2:#8b5cf6;
 --accent3:#ec4899;
 --success:#10b981;
 --warning:#f59e0b;
 --danger:#ef4444;
 --muted:rgba(255,255,255,0.5);
 --card-radius:28px;
 --shadow-sm:0 4px 6px rgba(0,0,0,0.1);
 --shadow-md:0 10px 25px rgba(0,0,0,0.25);
 --shadow-lg:0 20px 50px rgba(0,0,0,0.4);
 --shadow-xl:0 30px 80px rgba(0,0,0,0.6);
 --transition:all 0.45s cubic-bezier(0.165, 0.84, 0.44, 1);
 --gradient-primary:linear-gradient(135deg, var(--accent), var(--accent2), var(--accent3));
 --gradient-secondary:linear-gradient(135deg, var(--accent2), var(--accent3), #3b82f6);
 --neon-cyan:#00ffff;
 --neon-pink:#ff006e;
 --neon-purple:#c400ff;
 --neon-green:#39ff14;
 --neon-blue:#0040ff;
 --glow-sm:0 0 10px rgba(0, 255, 255, 0.5);
 --glow-md:0 0 20px rgba(255, 0, 110, 0.6);
 --glow-lg:0 0 40px rgba(196, 0, 255, 0.8);
}

/* Accessibility: visible focus for keyboard users */
:focus-visible{
  outline:3px solid rgba(99,102,241,0.9);
  outline-offset:3px;
}

/* Respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition:none !important; scroll-behavior:auto !important}
  #loading-logo, .hero-element, .bg-anim, .intro::before{animation:none !important}
}

/* Skip link styles */
.skip-link{
  position:fixed; left:12px; top:12px; padding:10px 14px; background:var(--gradient-primary); color:#fff; border-radius:8px; z-index:20000; transform:translateY(-120%); transition:transform .25s ease; text-decoration:none; font-weight:700; box-shadow:0 8px 30px rgba(99,102,241,0.5);
}
.skip-link:focus, .skip-link:active{
  transform:translateY(0);
}

/* ====== LIGHT THEME ====== */
body.light{
 --bg:#f0f4ff;
 --bg-secondary:#ffffff;
 --glass:rgba(255,255,255,0.88);
 --glass-strong:rgba(255,255,255,0.95);
 --border:rgba(0,0,0,0.08);
 --text:#1e293b;
 --text-secondary:#475569;
 --accent:#4f46e5;
 --accent2:#7c3aed;
 --accent3:#db2777;
 --success:#10b981;
 --warning:#f59e0b;
 --danger:#ef4444;
 --muted:rgba(0,0,0,0.5);
}

*{box-sizing:border-box;margin:0;padding:0}
body{
 margin:0;
 font-family:'Poppins', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
 background:var(--bg);
 color:var(--text);
 -webkit-font-smoothing:antialiased;
 -moz-osx-font-smoothing:grayscale;
 transition:var(--transition);
 overflow-x:hidden;
 line-height:1.6;
 background-image: 
   radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.12) 0%, transparent 25%),
   radial-gradient(circle at 90% 80%, rgba(147, 51, 234, 0.12) 0%, transparent 25%),
   radial-gradient(circle at 50% 50%, rgba(236, 72, 153, 0.08) 0%, transparent 35%);
 background-attachment: fixed;
 position:relative;
}

/* Loading Screen */
#loading-screen{
 position:fixed;
 inset:0;
 background:var(--bg);
 display:flex;
 flex-direction:column;
 align-items:center;
 justify-content:center;
 z-index:10000;
 transition:opacity 0.6s ease, visibility 0.6s ease;
}
#loading-logo{
 width:120px;
 height:120px;
 border-radius:24px;
 background:var(--gradient-primary);
 display:flex;
 align-items:center;
 justify-content:center;
 color:white;
 font-weight:900;
 font-size:32px;
 box-shadow:0 0 40px rgba(99, 102, 241, 0.6);
 animation:pulseLogo 2s infinite;
 margin-bottom:30px;
}
@keyframes pulseLogo{
 0%{box-shadow:0 0 20px rgba(99, 102, 241, 0.4);}
 50%{box-shadow:0 0 50px rgba(147, 51, 234, 0.7), 0 0 80px rgba(236, 72, 153, 0.5);}
 100%{box-shadow:0 0 20px rgba(99, 102, 241, 0.4);}
}
#loading-progress{
 width:300px;
 height:8px;
 background:var(--glass);
 border-radius:10px;
 overflow:hidden;
 margin-top:20px;
 position:relative;
 box-shadow:0 2px 10px rgba(0,0,0,0.2);
}
#loading-bar{
 height:100%;
 width:0%;
 background:var(--gradient-primary);
 border-radius:10px;
 transition:width 0.4s ease;
 position:relative;
}
#loading-bar::after{
 content:'';
 position:absolute;
 inset:0;
 background:var(--gradient-secondary);
 opacity:0.7;
 animation:shine 2s infinite;
}
@keyframes shine{
 0%{transform:translateX(-100%);}
 100%{transform:translateX(100%);}
}
#loading-text{
 margin-top:25px;
 font-size:18px;
 font-weight:500;
 color:var(--text-secondary);
 letter-spacing:1px;
}

/* Animated gradient background */
.bg-anim{
 position:fixed;
 inset:0;
 pointer-events:none;
 z-index:-2;
 background:
   radial-gradient(circle at 15% 30%, rgba(99, 102, 241, 0.18), transparent 25%),
   radial-gradient(circle at 85% 70%, rgba(147, 51, 234, 0.15), transparent 28%),
   radial-gradient(circle at 50% 40%, rgba(236, 72, 153, 0.12), transparent 35%);
 animation:bgShift 25s ease-in-out infinite alternate;
 opacity:0.8;
}
body.light .bg-anim{
 display:none;
}
@keyframes bgShift{
 0%{transform:translate(0, 0) scale(1)}
 50%{transform:translate(10px, -10px) scale(1.03)}
 100%{transform:translate(-10px, 10px) scale(0.97)}
}

/* Particle effect container */
#particles-js{
 position:fixed;
 inset:0;
 z-index:-1;
 opacity:0.5;
}
body.light #particles-js{
 opacity:0.2;
}

/* NAV - Completely Redesigned with Search at Top */
nav{
 position:fixed;
 top:0;
 width:100%;
 z-index:120;
 display:flex;
 align-items:center;
 justify-content:space-between;
 padding:18px 6%;
 backdrop-filter:blur(20px) saturate(180%);
 background:var(--glass-strong);
 border-bottom:1px solid var(--border);
 box-shadow:var(--shadow-lg);
 height:85px;
}
.nav-left{
 display:flex;
 align-items:center;
 gap:30px;
}
.logo{
 display:flex;
 align-items:center;
 gap:16px;
 font-weight:900;
 font-size:32px;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
 letter-spacing:-1px;
 position:relative;
}
.logo::after{
 content:'';
 position:absolute;
 bottom:-8px;
 left:0;
 width:100%;
 height:4px;
 background:var(--gradient-primary);
 border-radius:2px;
 opacity:0.8;
}
.logo-mark{
 width:56px;
 height:56px;
 border-radius:20px;
 background:var(--gradient-primary);
 display:flex;
 align-items:center;
 justify-content:center;
 color:white;
 font-weight:900;
 font-size:28px;
 box-shadow:0 10px 30px rgba(99, 102, 241, 0.55);
 transform:rotate(-8deg);
 position:relative;
 z-index:2;
}
.logo-mark::after{
 content:'';
 position:absolute;
 inset:-4px;
 background:var(--gradient-secondary);
 border-radius:24px;
 z-index:-1;
 opacity:0.7;
 animation:pulse 2s infinite;
}
@keyframes pulse{
 0%{transform:scale(0.95); opacity:0.7;}
 50%{transform:scale(1.05); opacity:0.9;}
 100%{transform:scale(0.95); opacity:0.7;}
}
.nav-center{
 flex:1;
 max-width:700px;
 margin:0 40px;
}
.search-container{
 position:relative;
 width:100%;
}
.search-container i{
 position:absolute;
 left:20px;
 top:50%;
 transform:translateY(-50%);
 color:var(--text-secondary);
 font-size:18px;
 z-index:2;
}
.search{
 width:100%;
 padding:16px 20px 16px 50px;
 border-radius:50px;
 border:1px solid var(--border);
 background:var(--glass);
 color:var(--text);
 font-family:'Poppins', sans-serif;
 font-size:17px;
 transition:var(--transition);
 box-shadow:0 4px 20px rgba(0,0,0,0.15);
}
.search:focus{
 outline:none; 
 border-color:var(--accent); 
 box-shadow:0 0 0 3px rgba(99, 102, 241, 0.3), 0 6px 25px rgba(0,0,0,0.2);
 background:var(--glass-strong);
 transform:translateY(-1px);
}
.search::placeholder{color:var(--muted); opacity:0.8;}
.nav-right{
 display:flex;
 align-items:center;
 gap:20px;
}
.icon-btn{
 background:var(--glass);
 border:1px solid var(--border);
 padding:14px 18px;
 border-radius:20px;
 cursor:pointer;
 color:var(--text);
 display:inline-flex;
 align-items:center;
 justify-content:center;
 gap:8px;
 transition:var(--transition);
 font-weight:600;
 min-width:52px;
 height:52px;
 position:relative;
 overflow:hidden;
 font-size:18px;
 box-shadow:var(--shadow-md);
}
.icon-btn::after{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
 opacity:0;
 transition:opacity 0.3s;
}
.icon-btn:hover::after{
 opacity:1;
}
.icon-btn:hover{
 transform:translateY(-3px);
 background:rgba(255,255,255,0.12);
 box-shadow:0 10px 25px rgba(0,0,0,0.3);
}
.icon-btn:active{
 transform:translateY(0);
}
.icon-btn.user{
 min-width:160px;
 padding-left:16px;
 padding-right:16px;
 justify-content:space-between;
}
.icon-btn.user span{
 display:none;
}
@media (min-width:1100px){
 .icon-btn.user span{
   display:inline-block;
   margin-left:8px;
   font-weight:500;
   font-size:16px;
 }
}
.cart{position:relative}
.cart-count{
 position:absolute;
 top:-10px;
 right:-10px;
 background:var(--danger);
 color:white;
 font-size:12px;
 padding:5px 10px;
 border-radius:30px;
 min-width:24px;
 display:flex;
 align-items:center;
 justify-content:center;
 font-weight:800;
 box-shadow:0 4px 15px rgba(239, 68, 68, 0.5);
 animation:pulseCount 2s infinite;
}
@keyframes pulseCount{
 0%{box-shadow:0 0 0 0 rgba(239, 68, 68, 0.7);}
 70%{box-shadow:0 0 0 12px rgba(239, 68, 68, 0);}
 100%{box-shadow:0 0 0 0 rgba(239, 68, 68, 0);}
}
.wishlist-count{
 position:absolute;
 top:-10px;
 right:-10px;
 background:var(--accent3);
 color:white;
 font-size:12px;
 padding:5px 10px;
 border-radius:30px;
 min-width:24px;
 display:flex;
 align-items:center;
 justify-content:center;
 font-weight:800;
 box-shadow:0 4px 15px rgba(236, 72, 153, 0.5);
 animation:pulseCount 2s infinite;
}

/* Enhanced Intro Section - Cinematic Experience */
.intro{
 position:fixed;
 inset:0;
 display:flex;
 align-items:center;
 justify-content:center;
 z-index:999;
 background:linear-gradient(135deg, var(--bg) 0%, #1a1c38 100%);
 color:var(--text);
 flex-direction:column;
 padding:32px;
 text-align:center;
 backdrop-filter:blur(10px);
 overflow:hidden;
}
.intro::before{
 content:'';
 position:absolute;
 inset:0;
 background:
   radial-gradient(circle at 30% 40%, rgba(99, 102, 241, 0.2), transparent 40%),
   radial-gradient(circle at 70% 60%, rgba(236, 72, 153, 0.18), transparent 45%),
   radial-gradient(circle at 50% 50%, rgba(147, 51, 234, 0.15), transparent 50%);
 animation:pulseBG 18s infinite alternate;
 opacity:0.85;
}
@keyframes pulseBG{
 0%{opacity:0.6; transform:scale(1);}
 100%{opacity:0.9; transform:scale(1.05);}
}
.intro-video{
 position:absolute;
 top:0;
 left:0;
 width:100%;
 height:100%;
 object-fit:cover;
 z-index:-1;
 opacity:0.35;
 }
.intro-content{
 position:relative;
 z-index:2;
 max-width:900px;
 padding:50px;
 background:var(--glass-strong);
 border-radius:40px;
 border:1px solid var(--border);
 box-shadow:var(--shadow-xl);
 backdrop-filter:blur(25px);
 animation:fadeInUp 0.9s ease-out forwards;
 transform:translateY(20px);
 opacity:0;
 animation-delay:0.3s;
}
@keyframes fadeInUp{
 from{opacity:0; transform:translateY(30px);}
 to{opacity:1; transform:translateY(0);}
}
.intro .title{
 font-size:80px;
 font-weight:900;
 margin-bottom:25px;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
 letter-spacing:-2.5px;
 text-shadow:0 5px 25px rgba(0,0,0,0.35);
 line-height:1.1;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:0.5s;
 text-transform:uppercase;
 position:relative;
}
.intro .title::after{
 content:'PREMIUM GAMING GEAR';
 position:absolute;
 bottom:-25px;
 left:50%;
 transform:translateX(-50%);
 font-size:24px;
 font-weight:700;
 letter-spacing:3px;
 color:var(--text-secondary);
 opacity:0.9;
 text-transform:uppercase;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:0.8s;
}
@keyframes fadeIn{
 from{opacity:0; filter:blur(5px);}
 to{opacity:1; filter:blur(0);}
}
.intro .subtitle{
 font-size:28px;
 opacity:0.95;
 margin-bottom:40px;
 max-width:800px;
 line-height:1.4;
 font-weight:300;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:1s;
}
.intro-features{
 display:flex;
 flex-direction:column;
 gap:20px;
 margin:40px 0;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:1.2s;
}
.intro-feature{
 display:flex;
 align-items:center;
 justify-content:center;
 gap:20px;
 padding:20px 30px;
 background:linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
 border-radius:24px;
 border:1.5px solid rgba(99, 102, 241, 0.25);
 font-size:20px;
 font-weight:600;
 transform:translateX(-40px);
 opacity:0;
 animation:slideIn 0.7s ease-out forwards;
 box-shadow:0 8px 24px rgba(99, 102, 241, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 backdrop-filter:blur(20px);
}
.intro-feature:hover{
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(147, 51, 234, 0.08));
 border-color:rgba(99, 102, 241, 0.4);
 box-shadow:0 15px 40px rgba(99, 102, 241, 0.25), inset 0 1px 1px rgba(255, 255, 255, 0.15);
 transform:translateX(-35px) scale(1.02);
}
.intro-feature:nth-child(1){animation-delay:1.4s;}
.intro-feature:nth-child(2){animation-delay:1.55s;}
.intro-feature:nth-child(3){animation-delay:1.7s;}
.intro-feature:nth-child(4){animation-delay:1.85s;}
@keyframes slideIn{
 to{transform:translateX(0); opacity:1;}
}
@keyframes badgeFloat{
 0%, 100%{transform:translateY(0px);}
 50%{transform:translateY(-6px);}
}
@keyframes heartBeat{
 0%, 100%{transform:scale(1);}
 14%{transform:scale(1.15);}
 28%{transform:scale(1);}
 42%{transform:scale(1.15);}
 70%{transform:scale(1);}
}
@keyframes glow{
 0%, 100%{box-shadow:0 0 20px rgba(99, 102, 241, 0.4);}
 50%{box-shadow:0 0 40px rgba(99, 102, 241, 0.8), 0 0 60px rgba(147, 51, 234, 0.5);}
}
@keyframes floatingBubble{
 0%{transform:translateY(0px) scale(1);}
 50%{transform:translateY(-20px) scale(1.05);}
 100%{transform:translateY(0px) scale(1);}
}
@keyframes shimmerEffect{
 0%{background-position:-1000px 0;}
 100%{background-position:1000px 0;}
}
@keyframes neonGlow{
 0%, 100%{text-shadow:0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan), 0 0 30px var(--neon-purple);}
 50%{text-shadow:0 0 20px var(--neon-cyan), 0 0 40px var(--neon-pink), 0 0 60px var(--neon-purple), 0 0 80px #ff006e;}
}
@keyframes neonBorderGlow{
 0%, 100%{box-shadow:0 0 10px var(--neon-cyan), inset 0 0 10px rgba(0, 255, 255, 0.2);}
 50%{box-shadow:0 0 30px var(--neon-pink), inset 0 0 15px rgba(255, 0, 110, 0.3);}
}
@keyframes waveMotion{
 0%{transform:translateX(0) translateY(0);}
 25%{transform:translateX(10px) translateY(-5px);}
 50%{transform:translateX(0) translateY(0);}
 75%{transform:translateX(-10px) translateY(5px);}
 100%{transform:translateX(0) translateY(0);}
}
@keyframes liquidWave{
 0%{background-position:0% 50%;}
 50%{background-position:100% 50%;}
 100%{background-position:0% 50%;}
}
@keyframes carouselSlide{
 0%{transform:translateX(0);}
 100%{transform:translateX(-100%);}
}
@keyframes rotate3D{
 0%{transform:rotateX(0deg) rotateY(0deg);}
 50%{transform:rotateX(10deg) rotateY(20deg);}
 100%{transform:rotateX(0deg) rotateY(0deg);}
}
@keyframes particleFloat{
 0%{transform:translateY(0px) translateX(0px) scale(1);}
 50%{transform:translateY(-100px) translateX(50px) scale(0.7);}
 100%{transform:translateY(-200px) translateX(100px) scale(0.3);}
}
.intro-feature i{
 font-size:32px;
 width:40px;
 height:40px;
 display:flex;
 align-items:center;
 justify-content:center;
 border-radius:16px;
 background:var(--gradient-primary);
 color:white;
 box-shadow:0 12px 30px rgba(99, 102, 241, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.intro-feature:hover i {
 transform:scale(1.1) rotate(-10deg);
 box-shadow:0 15px 40px rgba(99, 102, 241, 0.7), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.intro-feature.pro-grade i{background:var(--gradient-primary);}
.intro-feature.shipping i{background:linear-gradient(135deg, var(--accent2), #a78bfa);}
.intro-feature.support i{background:linear-gradient(135deg, var(--accent3), #f472b6);}
.intro-feature.warranty i{background:linear-gradient(135deg, var(--success), #34d399);}
.intro-actions{
 margin-top:45px;
 display:flex;
 gap:25px;
 justify-content:center;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:2.1s;
}
.intro-progress{
 width:300px;
 height:8px;
 background:var(--glass);
 border-radius:10px;
 overflow:hidden;
 margin-top:30px;
 position:relative;
 box-shadow:0 2px 15px rgba(0,0,0,0.25);
 animation:fadeIn 1s ease-out forwards;
 animation-delay:2.3s;
}
.intro-progress-bar{
 height:100%;
 width:0%;
 background:var(--gradient-primary);
 border-radius:10px;
 position:relative;
 transition:width 0.5s ease;
}
.intro-progress-bar::after{
 content:'';
 position:absolute;
 inset:0;
 background:var(--gradient-secondary);
 opacity:0.7;
 animation:shine 2s infinite;
}
.skip-btn{
 background:transparent;
 border:2px solid var(--border);
 padding:18px 40px;
 border-radius:50px;
 color:var(--text);
 cursor:pointer;
 transition:var(--transition);
 font-weight:700;
 font-size:20px;
 min-width:200px;
 display:flex;
 align-items:center;
 justify-content:center;
 gap:12px;
 box-shadow:var(--shadow-md);
 position:relative;
 overflow:hidden;
}
.skip-btn::after{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
 opacity:0;
 transition:opacity 0.3s;
}
.skip-btn:hover::after{
 opacity:1;
}
.skip-btn:hover{
 background:rgba(255,255,255,0.08);
 transform:translateY(-4px);
 box-shadow:0 12px 30px rgba(0,0,0,0.3);
}
.skip-btn:active{
 transform:translateY(0);
}
.primary-btn{
 background:var(--gradient-primary);
 color:white;
 border:none;
 padding:18px 45px;
 border-radius:50px;
 cursor:pointer;
 font-weight:800;
 font-size:20px;
 transition:var(--transition);
 min-width:220px;
 box-shadow:0 10px 35px rgba(99, 102, 241, 0.55);
 position:relative;
 overflow:hidden;
 letter-spacing:1px;
 display:flex;
 align-items:center;
 justify-content:center;
 gap:15px;
}
.primary-btn::before{
 content:'';
 position:absolute;
 inset:0;
 background:var(--gradient-secondary);
 opacity:0;
 transition:opacity 0.3s;
}
.primary-btn:hover::before{
 opacity:1;
}
.primary-btn:hover{
 transform:translateY(-4px);
 box-shadow:0 15px 40px rgba(99, 102, 241, 0.7);
}
.primary-btn:active{
 transform:translateY(0);
}
.primary-btn i{
 font-size:24px;
 min-width:24px;
}

/* Hero section with video background */
.hero{
 margin-top:85px;
 padding:140px 8% 100px;
 text-align:center;
 position:relative;
 overflow:hidden;
 background:linear-gradient(180deg, var(--bg) 0%, rgba(10, 11, 26, 0.95) 40%, rgba(10, 11, 26, 0.98) 100%), url('images/hero-bg.svg');
 background-size:cover;
 background-position:center;
 color:white;
 min-height:90vh;
 display:flex;
 align-items:center;
 justify-content:center;
}
.hero::before{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(180deg, rgba(10, 11, 26, 0.7) 0%, rgba(10, 11, 26, 0.95) 100%);
}
.hero-content{
 position:relative;
 max-width:1000px;
 margin:0 auto;
 z-index:2;
 animation:fadeInUp 1s ease-out forwards;
 animation-delay:0.3s;
 opacity:0;
 transform:translateY(30px);
}
.hero-content.show{
 opacity:1;
 transform:translateY(0);
}
.hero-badge{
 background:var(--gradient-primary);
 color:white;
 padding:8px 25px;
 border-radius:50px;
 font-weight:700;
 font-size:18px;
 display:inline-block;
 margin-bottom:25px;
 box-shadow:0 5px 20px rgba(99, 102, 241, 0.45);
 letter-spacing:1px;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:0.5s;
 opacity:0;
}
.hero-badge.show{
 opacity:1;
}
.hero h1{
 font-size:84px;
 line-height:1.05;
 margin-bottom:30px;
 font-weight:900;
 background:linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3), var(--accent2), var(--accent));
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
 text-shadow:0 8px 35px rgba(0,0,0,0.45);
 letter-spacing:-2.5px;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:0.7s;
 opacity:0;
}
.hero h1.show{
 opacity:1;
}
.hero p{
 opacity:.95;
 margin-bottom:45px;
 font-size:26px;
 max-width:850px;
 margin-left:auto;
 margin-right:auto;
 line-height:1.5;
 font-weight:300;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:0.9s;
 opacity:0;
}
.hero p.show{
 opacity:1;
}
.hero-btns{
 display:flex;
 gap:25px;
 justify-content:center;
 margin-top:40px;
 flex-wrap:wrap;
 animation:fadeIn 1s ease-out forwards;
 animation-delay:1.1s;
 opacity:0;
}
.hero-btns.show{
 opacity:1;
}
.hero-btn{
 padding:24px 60px;
 border-radius:60px;
 font-weight:900;
 font-size:22px;
 cursor:pointer;
 transition:all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
 display:inline-flex;
 align-items:center;
 gap:15px;
 min-width:280px;
 justify-content:center;
 box-shadow:0 16px 50px rgba(99, 102, 241, 0.55);
 position:relative;
 overflow:hidden;
 letter-spacing:1px;
 text-transform:uppercase;
 border:1.5px solid rgba(255,255,255,0.2);
}
.hero-btn::after{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(135deg, rgba(255,255,255,0.15), transparent);
 opacity:0;
 transition:opacity 0.3s;
}
.hero-btn:hover::after{
 opacity:1;
}
.primary-hero-btn{
 background:linear-gradient(135deg, var(--accent), var(--accent2), var(--accent3));
 color:white;
 border:1.5px solid rgba(255,255,255,0.3);
 box-shadow:0 15px 50px rgba(99, 102, 241, 0.7), inset 0 1px 1px rgba(255, 255, 255, 0.25);
 letter-spacing:1px;
 font-weight:800;
}
.primary-hero-btn:hover{
 transform:translateY(-8px) scale(1.05);
 box-shadow:0 25px 60px rgba(99, 102, 241, 0.85), 0 0 40px rgba(99, 102, 241, 0.4);
}
.secondary-hero-btn{
 background:linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
 border:2px solid rgba(255,255,255,0.3);
 color:white;
 backdrop-filter:blur(15px);
 box-shadow:0 8px 30px rgba(0,0,0,0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 font-weight:700;
 letter-spacing:0.5px;
}
.secondary-hero-btn:hover{
 background:rgba(255,255,255,0.15);
 transform:translateY(-8px);
 border-color:rgba(255,255,255,0.5);
 box-shadow:0 15px 45px rgba(99, 102, 241, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.3);
}

/* Floating elements in hero */
.hero-element{
 position:absolute;
 border-radius:50%;
 background:var(--gradient-primary);
 opacity:0.8;
 animation:float 18s infinite ease-in-out;
 box-shadow:0 0 60px rgba(99, 102, 241, 0.6), 0 0 100px rgba(99, 102, 241, 0.3);
 filter:blur(80px);
}
.hero-element-1{
 width:180px;
 height:180px;
 top:10%;
 left:5%;
 animation-delay:0s;
 box-shadow:0 0 60px rgba(99, 102, 241, 0.6), 0 0 100px rgba(99, 102, 241, 0.3);
}
.hero-element-2{
 width:120px;
 height:120px;
 bottom:15%;
 right:10%;
 animation-delay:3s;
 background:linear-gradient(135deg, rgba(147, 51, 234, 0.8), rgba(236, 72, 153, 0.6));
 box-shadow:0 0 50px rgba(147, 51, 234, 0.5), 0 0 80px rgba(147, 51, 234, 0.3);
}
.hero-element-3{
 width:90px;
 height:90px;
 top:35%;
 right:8%;
 animation-delay:6s;
 background:linear-gradient(135deg, rgba(236, 72, 153, 0.7), rgba(99, 102, 241, 0.5));
 box-shadow:0 0 40px rgba(236, 72, 153, 0.5), 0 0 60px rgba(236, 72, 153, 0.3);
}
.hero-element-4{
 width:140px;
 height:140px;
 bottom:25%;
 left:12%;
 animation-delay:9s;
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.7), rgba(147, 51, 234, 0.6));
 box-shadow:0 0 55px rgba(99, 102, 241, 0.5), 0 0 85px rgba(99, 102, 241, 0.3);
}
@keyframes float{
 0%,100%{transform:translate(0, 0) scale(1);}
 25%{transform:translate(20px, 20px) scale(1.1);}
 50%{transform:translate(0, -50px) scale(1.05);}
 75%{transform:translate(-20px, 20px) scale(1.08);}
}

/* Why Choose Us Section */
.why-choose-us{
 padding:100px 8%;
 background:var(--bg-secondary);
 position:relative;
 overflow:hidden;
}
.why-choose-us::before{
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 30% 40%, rgba(99, 102, 241, 0.08), transparent 40%),
           radial-gradient(circle at 70% 60%, rgba(236, 72, 153, 0.07), transparent 45%);
}
.section-title{
 text-align:center;
 font-size:56px;
 font-weight:900;
 margin-bottom:30px;
 background:linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3), var(--accent));
 background-size:300% 100%;
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
 position:relative;
 display:inline-block;
 animation:neonGlow 3s ease-in-out infinite;
 letter-spacing:2px;
 width:100%;
}
.section-title::after{
 content:'';
 position:absolute;
 bottom:-20px;
 left:50%;
 transform:translateX(-50%);
 width:150px;
 height:8px;
 background:var(--gradient-primary);
 border-radius:4px;
 box-shadow:0 0 20px rgba(99, 102, 241, 0.6);
}
.section-subtitle{
 text-align:center;
 font-size:24px;
 opacity:0.9;
 max-width:800px;
 margin:0 auto 100px;
 font-weight:400;
 line-height:1.8;
 color:var(--text-secondary);
}
.features-grid{
 display:grid;
 grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
 gap:40px;
 max-width:1400px;
 margin:0 auto;
}
.feature-card{
 background:linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
 border:1.5px solid rgba(99, 102, 241, 0.2);
 border-radius:32px;
 padding:45px 35px;
 text-align:center;
 transition:all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
 position:relative;
 overflow:hidden;
 box-shadow:0 12px 40px rgba(99, 102, 241, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);
 backdrop-filter:blur(30px);
}
.feature-card::before{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(135deg, rgba(255,255,255,0.1), transparent 60%);
 opacity:0;
 transition:opacity 0.5s;
 z-index:1;
}
.feature-card:hover::before{
 opacity:1;
}
.feature-card:hover{
 transform:translateY(-15px) scale(1.05);
 box-shadow:0 25px 60px rgba(99, 102, 241, 0.35), inset 0 1px 1px rgba(255, 255, 255, 0.15), 0 0 30px rgba(99, 102, 241, 0.2);
 border:1.5px solid rgba(99, 102, 241, 0.4);
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(147, 51, 234, 0.08));
}
.feature-icon{
 width:90px;
 height:90px;
 border-radius:28px;
 background:var(--gradient-primary);
 display:flex;
 align-items:center;
 justify-content:center;
 margin:0 auto 25px;
 font-size:36px;
 color:white;
 box-shadow:0 15px 40px rgba(99, 102, 241, 0.45), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 position:relative;
 z-index:2;
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.feature-card:hover .feature-icon{
 transform:scale(1.15) rotate(-10deg);
 box-shadow:0 20px 50px rgba(99, 102, 241, 0.6), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.feature-card.pro-grade .feature-icon{background:var(--gradient-primary);}
.feature-card.fast-shipping .feature-icon{background:linear-gradient(135deg, var(--accent2), #a78bfa);}
.feature-card.secure-payments .feature-icon{background:linear-gradient(135deg, var(--accent3), #f472b6);}
.feature-card.warranty .feature-icon{background:linear-gradient(135deg, var(--success), #34d399);}
.feature-card h3{
 font-size:28px;
 font-weight:800;
 margin-bottom:15px;
 position:relative;
 z-index:2;
}
.feature-card p{
 opacity:.85;
 margin-top:15px;
 font-size:18px;
 line-height:1.6;
 position:relative;
 z-index:2;
}

/* Featured Products Section */
.featured-section{
 padding:100px 8% 80px;
 position:relative;
}
.section-header{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin-bottom:50px;
 flex-wrap:wrap;
 gap:20px;
}
.view-all-btn{
 background:transparent;
 border:2px solid var(--border);
 color:var(--text);
 padding:12px 30px;
 border-radius:50px;
 font-weight:600;
 font-size:18px;
 cursor:pointer;
 transition:var(--transition);
 display:flex;
 align-items:center;
 gap:10px;
}
.view-all-btn:hover{
 background:rgba(255,255,255,0.08);
 transform:translateX(5px);
 border-color:var(--accent);
}
.featured-grid{
 display:grid;
 grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));
 gap:40px;
 max-width:1800px;
 margin:0 auto;
}
.see-more-btn{
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 padding:18px 45px;
 border-radius:50px;
 font-weight:700;
 font-size:19px;
 cursor:pointer;
 transition:var(--transition);
 display:block;
 margin:60px auto 0;
 box-shadow:var(--shadow-md);
}
.see-more-btn:hover{
 background:rgba(255,255,255,0.1);
 transform:translateY(-3px);
 box-shadow:var(--shadow-lg);
}

/* Filters */
.filters{
 display:flex;
 gap:20px;
 justify-content:center;
 align-items:center;
 margin:50px 0 40px;
 padding:20px 5%;
 flex-wrap:wrap;
 background:var(--glass-strong);
 border-radius:32px;
 border:1px solid var(--border);
 backdrop-filter:blur(12px);
 box-shadow:var(--shadow-md);
 max-width:1600px;
 margin-left:auto;
 margin-right:auto;
 position:relative;
 z-index:10;
}
.cat-btn{
 padding:16px 35px;
 border-radius:50px;
 border:1px solid var(--border);
 background:var(--glass);
 color:var(--text);
 cursor:pointer;
 transition:var(--transition);
 font-weight:600;
 font-size:18px;
 display:flex;
 align-items:center;
 gap:12px;
 box-shadow:var(--shadow-sm);
 min-width:160px;
 justify-content:center;
}
.cat-btn:hover{
 background:rgba(255,255,255,0.12);
 transform:translateY(-2px);
 box-shadow:var(--shadow-md);
}
.cat-btn.active{
 background:var(--gradient-primary);
 color:white;
 border-color:transparent;
 box-shadow:0 8px 25px rgba(99, 102, 241, 0.45);
 transform:translateY(-3px);
 position:relative;
}
.cat-btn.active::after{
 content:'';
 position:absolute;
 inset:0;
 background:var(--gradient-secondary);
 opacity:0.7;
 border-radius:50px;
 z-index:-1;
}
.cat-btn i{
 font-size:22px;
 width:24px;
 text-align:center;
}

/* Controls row: sort + price */
.controls-row{
 display:flex;
 gap:25px;
 justify-content:center;
 align-items:center;
 margin:30px 0 60px;
 padding:25px 5%;
 flex-wrap:wrap;
 background:var(--glass-strong);
 border-radius:32px;
 border:1px solid var(--border);
 backdrop-filter:blur(12px);
 box-shadow:var(--shadow-md);
 max-width:1600px;
 margin-left:auto;
 margin-right:auto;
 position:relative;
 z-index:10;
}
.select,.sort{
 padding:16px 25px;
 border-radius:20px;
 border:1px solid var(--border);
 background:var(--glass);
 color:var(--text);
 min-width:240px;
 transition:var(--transition);
 font-family:'Poppins', sans-serif;
 font-size:18px;
 font-weight:500;
 box-shadow:var(--shadow-sm);
}
.select:focus,.sort:focus{
 outline:none; 
 border-color:var(--accent); 
 box-shadow:0 0 0 3px rgba(99, 102, 241, 0.3), var(--shadow-md);
 background:var(--glass-strong);
 transform:translateY(-1px);
}
.range-container{
 display:flex;
 flex-direction:column;
 gap:15px;
 min-width:300px;
}
.range-label{
 display:flex;
 justify-content:space-between;
 font-size:18px;
 font-weight:600;
}
.range-slider{
 width:100%;
 height:10px;
 border-radius:5px;
 background:var(--border);
 outline:none;
 appearance:none;
 -webkit-appearance:none;
 position:relative;
}
.range-slider::-webkit-slider-thumb{
 -webkit-appearance:none;
 width:36px;
 height:36px;
 border-radius:50%;
 background:var(--gradient-primary);
 cursor:pointer;
 box-shadow:0 6px 20px rgba(99, 102, 241, 0.5);
 border:4px solid white;
 position:relative;
 z-index:2;
}
.range-slider::-webkit-slider-thumb:hover{
 transform:scale(1.2);
 box-shadow:0 6px 25px rgba(99, 102, 241, 0.7), 0 0 0 4px rgba(147, 51, 234, 0.3);
}
.range-slider::-webkit-slider-thumb:active{
 transform:scale(1.1);
 box-shadow:0 4px 15px rgba(99, 102, 241, 0.6);
}
.range-slider::-moz-range-thumb{
 width:36px;
 height:36px;
 border-radius:50%;
 background:var(--gradient-primary);
 cursor:pointer;
 box-shadow:0 6px 20px rgba(99, 102, 241, 0.5);
 border:4px solid white;
 position:relative;
 z-index:2;
}
.range-track{
 position:absolute;
 height:10px;
 background:var(--gradient-primary);
 border-radius:5px;
 top:0;
 left:0;
 right:0;
 bottom:0;
 z-index:1;
}

/* Products grid */
.products{
 padding:20px 5% 80px;
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
 gap:45px;
 max-width:1800px;
 margin:0 auto;
}
.card{
 background:linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
 border-radius:var(--card-radius);
 border:1px solid rgba(99, 102, 241, 0.25);
 padding:20px;
 position:relative;
 cursor:pointer;
 transition:all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
 opacity:0;
 transform:translateY(25px);
 box-shadow:0 8px 32px rgba(99, 102, 241, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);
 backdrop-filter:blur(30px);
 overflow:hidden;
 display:flex;
 flex-direction:column;
}
.card.show{
 opacity:1;
 transform:translateY(0);
}
.card:hover{
 transform:translateY(-15px) scale(1.02);
 box-shadow:0 20px 60px rgba(99, 102, 241, 0.35), inset 0 1px 1px rgba(255, 255, 255, 0.15), 0 0 30px rgba(99, 102, 241, 0.25);
 border:1px solid rgba(99, 102, 241, 0.5);
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(147, 51, 234, 0.08));
}
.card::before{
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(135deg, rgba(255,255,255,0.08), transparent 60%);
 opacity:0;
 transition:opacity 0.5s;
 z-index:1;
}
.card:hover::before{
 opacity:1;
}
.card-img-container{
 width:100%;
 height:240px;
 overflow:hidden;
 position:relative;
 background:radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.15), rgba(147, 51, 234, 0.05), transparent);
 display:flex;
 align-items:center;
 justify-content:center;
 border:1px solid rgba(99, 102, 241, 0.15);
 transition:all 0.6s ease;
 margin-bottom:15px;
 border-radius:20px;
}
.card img{
 width:100%;
 height:100%;
 object-fit:contain;
 padding:25px;
 display:block;
 transition:all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
 background:transparent;
 filter:drop-shadow(0 8px 24px rgba(0,0,0,0.3)) brightness(1.1);
}
.card:hover .card-img-container{
 background:radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.25), rgba(147, 51, 234, 0.12), transparent);
 border-color:rgba(99, 102, 241, 0.4);
 box-shadow:inset 0 0 30px rgba(99, 102, 241, 0.2);
}
.card:hover img{
 transform:scale(1.15) rotate(2deg);
 filter:drop-shadow(0 15px 40px rgba(99,102,241,0.5)) brightness(1.2);
}
.card-content{
 padding:30px 25px 25px;
 text-align:center;
 flex:1;
 display:flex;
 flex-direction:column;
 z-index:2;
}
.card h3{
 margin:12px 0 15px;
 font-size:22px;
 font-weight:800;
 line-height:1.3;
}
.card p{
 opacity:.85;
 margin-bottom:20px;
 min-height:65px;
 font-size:16px;
 line-height:1.6;
}
.price{
 color:var(--accent);
 font-weight:900;
 margin:15px 0 20px;
 font-size:30px;
 display:flex;
 justify-content:center;
 gap:12px;
 align-items:center;
}
.price span.old-price{
 color:var(--text-secondary);
 text-decoration:line-through;
 font-size:20px;
 font-weight:400;
 margin-right:10px;
}
.badge{
 position:absolute;
 left:22px;
 top:22px;
 background:linear-gradient(90deg, var(--danger), #f97316);
 color:white;
 padding:10px 20px;
 font-size:16px;
 border-radius:50px;
 box-shadow:0 10px 30px rgba(239, 68, 68, 0.45), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 font-weight:800;
 z-index:3;
 display:flex;
 align-items:center;
 gap:8px;
 animation:badgeFloat 2.5s ease-in-out infinite;
 letter-spacing:0.5px;
 border:1px solid rgba(255, 255, 255, 0.15);
}
@keyframes badgePulse{
 0%,100%{box-shadow:0 0 0 0 rgba(239, 68, 68, 0.7);}
 50%{box-shadow:0 0 0 10px rgba(239, 68, 68, 0);}
}
@keyframes heartBeat{
 0%, 100%{transform:scale(1);}
 14%{transform:scale(1.15);}
 28%{transform:scale(1);}
 42%{transform:scale(1.15);}
 70%{transform:scale(1);}
}
@keyframes badgeFloat{
 0%, 100%{transform:translateY(0px);}
 50%{transform:translateY(-6px);}
}
@keyframes glow{
 0%, 100%{box-shadow:0 0 20px rgba(99, 102, 241, 0.4);}
 50%{box-shadow:0 0 40px rgba(99, 102, 241, 0.8), 0 0 60px rgba(147, 51, 234, 0.5);}
}
@keyframes shimmerEffect{
 0%{background-position:-1000px 0;}
 100%{background-position:1000px 0;}
}
.badge.new{
 background:linear-gradient(90deg, var(--success), #22c55e);
 box-shadow:0 10px 30px rgba(16, 185, 129, 0.45);
 animation:badgePulse 3s infinite;
}
.badge i{
 font-size:18px;
}
.wishlist-btn{
 position:absolute;
 top:22px;
 right:22px;
 width:48px;
 height:48px;
 border-radius:50%;
 background:linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
 border:1.5px solid rgba(236, 72, 153, 0.3);
 color:var(--text);
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 z-index:3;
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 box-shadow:0 8px 24px rgba(236, 72, 153, 0.15);
 backdrop-filter:blur(20px);
 font-size:20px;
}
.wishlist-btn.active{
 background:linear-gradient(135deg, var(--accent3), #f472b6);
 color:white;
 border:1.5px solid var(--accent3);
 box-shadow:0 12px 30px rgba(236, 72, 153, 0.7), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 animation:heartBeat 0.6s ease-in-out;
}
.wishlist-btn:hover{
 background:linear-gradient(135deg, rgba(236, 72, 153, 0.25), rgba(244, 114, 182, 0.15));
 border:1.5px solid var(--accent3);
 transform:scale(1.2) rotate(10deg);
 box-shadow:0 0 30px rgba(236, 72, 153, 0.6), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.wishlist-btn.active{
 background:linear-gradient(135deg, var(--accent3), #f472b6);
 color:white;
 border:1.5px solid var(--accent3);
 box-shadow:0 12px 30px rgba(236, 72, 153, 0.7), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 animation:heartBeat 0.6s ease-in-out;
}
.wishlist-btn:hover{
 background:linear-gradient(135deg, rgba(236, 72, 153, 0.25), rgba(244, 114, 182, 0.15));
 border:1.5px solid var(--accent3);
 transform:scale(1.2) rotate(10deg);
 box-shadow:0 0 30px rgba(236, 72, 153, 0.6), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.card-actions{
 display:flex;
 gap:15px;
 justify-content:center;
 margin-top:auto;
 padding-top:15px;
}
.small-btn{
 padding:16px 32px;
 border-radius:20px;
 border:1.5px solid rgba(99, 102, 241, 0.3);
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(147, 51, 234, 0.08));
 color:var(--text);
 cursor:pointer;
 transition:all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
 flex:1;
 font-weight:700;
 min-width:120px;
 display:flex;
 align-items:center;
 justify-content:center;
 gap:10px;
 font-size:18px;
 box-shadow:0 8px 20px rgba(99, 102, 241, 0.15), inset 0 1px 1px rgba(255, 255, 255, 0.1);
 position:relative;
 overflow:hidden;
}
.small-btn::before{
 content:'';
 position:absolute;
 inset:-2px;
 background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
 opacity:0;
 transition:opacity 0.4s;
 z-index:0;
}
.small-btn:hover::before{
 opacity:1;
}
.small-btn:hover{
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(147, 51, 234, 0.1));
 border:1.5px solid var(--accent);
 transform:translateY(-4px);
 box-shadow:0 12px 30px rgba(99, 102, 241, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.15), 0 0 20px rgba(99, 102, 241, 0.2);
 color:var(--accent2);
}
.small-btn:active {
 transform:translateY(-1px);
}
.btn{
 background:linear-gradient(135deg, var(--accent), var(--accent2), var(--accent3));
 color:white;
 border:1.5px solid rgba(255, 255, 255, 0.25);
 padding:20px 40px;
 border-radius:22px;
 cursor:pointer;
 font-weight:800;
 transition:all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
 display:flex;
 align-items:center;
 justify-content:center;
 gap:12px;
 flex:1;
 min-width:150px;
 font-size:19px;
 box-shadow:0 15px 45px rgba(99, 102, 241, 0.45), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 position:relative;
 overflow:hidden;
 letter-spacing:0.5px;
}
.btn::before{
 content:'';
 position:absolute;
 top:50%;
 left:50%;
 width:0;
 height:0;
 border-radius:50%;
 background:rgba(255, 255, 255, 0.25);
 transform:translate(-50%, -50%);
 transition:width 0.6s, height 0.6s;
 z-index:0;
}
.btn:hover::before{
 width:300px;
 height:300px;
}
.btn span{
 position:relative;
 z-index:1;
}
.btn:hover{
 transform:translateY(-5px);
 box-shadow:0 18px 50px rgba(99, 102, 241, 0.6), 0 0 30px rgba(99, 102, 241, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.btn:active{
 transform:translateY(-1px);
}

/* Ratings */
.rating{
 display:flex;
 justify-content:center;
 gap:5px;
 margin:12px 0;
 direction:ltr;
}
.rating i{
 color:#f59e0b;
 font-size:18px;
}
.rating span{
 color:var(--text-secondary);
 font-size:16px;
 margin-left:10px;
 font-weight:600;
}

/* Skeleton */
.skeleton{
 height:420px;
 border-radius:28px;
 background:linear-gradient(90deg, #1e293b, #334155, #1e293b);
 background-size:400% 100%;
 animation:shimmer 1.8s linear infinite;
 position:relative;
 overflow:hidden;
}
body.light .skeleton{ 
 background:linear-gradient(90deg, #e2e8f0, #cbd5e1, #e2e8f0); 
}
@keyframes shimmer{
 0%{background-position:0 0}
 100%{background-position:-400% 0}
}

/* Newsletter Section */
.newsletter{
 padding:100px 8%;
 background:var(--bg-secondary);
 text-align:center;
 position:relative;
 overflow:hidden;
 margin-top:60px;
}
.newsletter::before{
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 20% 30%, rgba(147, 51, 234, 0.1), transparent 40%),
           radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.1), transparent 45%);
}
.newsletter h2{
 font-size:48px;
 font-weight:800;
 margin-bottom:25px;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
}
.newsletter p{
 font-size:22px;
 opacity:0.85;
 max-width:700px;
 margin:0 auto 40px;
 line-height:1.6;
}
.newsletter-form{
 max-width:600px;
 margin:0 auto;
 display:flex;
 gap:15px;
}
.newsletter-input{
 flex:1;
 padding:20px 25px;
 border-radius:20px;
 border:1px solid var(--border);
 background:var(--glass);
 color:var(--text);
 font-family:'Poppins', sans-serif;
 font-size:18px;
}
.newsletter-input:focus{
 outline:none;
 border-color:var(--accent);
 box-shadow:0 0 0 3px rgba(99, 102, 241, 0.3);
 background:var(--glass-strong);
}
.newsletter-btn{
 background:var(--gradient-primary);
 color:white;
 border:none;
 padding:0 35px;
 border-radius:20px;
 font-weight:700;
 font-size:19px;
 cursor:pointer;
 transition:var(--transition);
 white-space:nowrap;
 box-shadow:0 8px 25px rgba(99, 102, 241, 0.45);
}
.newsletter-btn:hover{
 transform:translateY(-3px);
 box-shadow:0 12px 30px rgba(99, 102, 241, 0.6);
}

/* Modal product quickview */
.modal{
 position:fixed;
 inset:0;
 display:none;
 align-items:center;
 justify-content:center;
 background:rgba(10, 11, 26, 0.92);
 z-index:150; 
 backdrop-filter:blur(10px);
 padding:20px;
}
body.light .modal{ 
 background: rgba(0,0,0,0.75); 
}
.modal-content{
 width:95%;
 max-width:1100px;
 background:var(--glass-strong);
 border:1px solid var(--border);
 padding:45px;
 border-radius:40px;
 display:flex;
 gap:50px;
 flex-wrap:wrap;
 max-height:90vh;
 overflow:auto;
 position:relative;
 box-shadow:var(--shadow-xl);
 backdrop-filter:blur(25px);
 transform:scale(0.92);
 opacity:0;
 transition:transform 0.5s ease, opacity 0.5s ease;
}
.modal-content.show{
 transform:scale(1);
 opacity:1;
}
.modal-img{
 flex:1;
 min-width:400px;
 display:flex;
 align-items:center;
 justify-content:center;
 border-radius:32px;
 overflow:hidden;
 background:var(--glass);
 box-shadow:var(--shadow-xl);
 position:relative;
 height:500px;
}
.modal-img img{
 width:100%;
 height:100%;
 object-fit:contain;
 padding:40px;
 transition:transform 0.8s ease;
}
.modal-info{
 flex:1;
 min-width:350px;
 display:flex;
 flex-direction:column;
}
.modal-close{
 position:absolute;
 top:30px;
 right:30px;
 cursor:pointer;
 padding:15px;
 border-radius:20px;
 border:1px solid var(--border);
 background:var(--glass);
 font-size:28px;
 line-height:1;
 width:56px;
 height:56px;
 display:flex;
 align-items:center;
 justify-content:center;
 transition:var(--transition);
 color:var(--text);
 z-index:10;
 box-shadow:var(--shadow-md);
}
.modal-close:hover{
 background:rgba(255,255,255,0.15);
 transform:rotate(90deg) scale(1.1);
 box-shadow:0 8px 25px rgba(0,0,0,0.3);
}
.modal h2{
 font-size:42px;
 margin-bottom:20px;
 font-weight:900;
 line-height:1.2;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
}
.modal-description{
 opacity:.85;
 margin:20px 0 30px;
 line-height:1.8;
 font-size:19px;
}
.modal-price{
 font-size:38px;
 font-weight:900;
 margin:20px 0;
 color:var(--accent);
 display:flex;
 align-items:center;
 gap:15px;
}
.modal-price span.old-price{
 color:var(--text-secondary);
 text-decoration:line-through;
 font-size:26px;
 font-weight:400;
}
.modal-actions{
 display:flex;
 flex-direction:column;
 gap:20px;
 margin-top:25px;
}
.quantity-selector{
 display:flex;
 align-items:center;
 gap:20px;
 padding:15px 25px;
 background:var(--glass);
 border:1px solid var(--border);
 border-radius:24px;
 width:fit-content;
 margin-top:12px;
 box-shadow:var(--shadow-md);
}
.quantity-btn{
 width:48px;
 height:48px;
 border-radius:16px;
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 font-weight:700;
 font-size:24px;
 cursor:pointer;
 transition:var(--transition);
 display:flex;
 align-items:center;
 justify-content:center;
 box-shadow:var(--shadow-sm);
}
.quantity-btn:hover{
 background:rgba(255,255,255,0.15);
 transform:scale(1.1);
}
.quantity-btn:disabled{
 opacity:0.5;
 cursor:not-allowed;
}
.quantity-display{
 font-size:26px;
 font-weight:800;
 min-width:40px;
 text-align:center;
}
.modal-btns{
 display:flex;
 gap:20px;
 flex-wrap:wrap;
}
.modal-add-btn{
 padding:18px 35px;
 font-size:20px;
 border-radius:24px;
 font-weight:700;
 min-width:220px;
}
.modal-wishlist-btn{
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 padding:18px 35px;
 border-radius:24px;
 font-weight:700;
 cursor:pointer;
 transition:var(--transition);
 display:flex;
 align-items:center;
 justify-content:center;
 gap:12px;
 flex:1;
 min-width:200px;
 box-shadow:var(--shadow-md);
 font-size:19px;
}
.modal-wishlist-btn.active{
 color:var(--accent3);
 border-color:var(--accent3);
 background:rgba(236, 72, 153, 0.12);
 box-shadow:0 0 25px rgba(236, 72, 153, 0.25);
}
.modal-wishlist-btn:hover{
 background:rgba(255,255,255,0.12);
 transform:translateY(-3px);
 box-shadow:var(--shadow-lg);
}

/* Cart panel */
.cart-panel{
 position:fixed;
 right:-520px;
 top:0;
 height:100%;
 width:500px;
 background:var(--glass-strong);
 border-left:1px solid var(--border);
 box-shadow:var(--shadow-xl);
 transition:right 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
 z-index:160;
 padding:40px 30px;
 overflow:auto;
 display:flex;
 flex-direction:column;
 backdrop-filter:blur(25px);
}
.cart-panel.open{
 right:0;
}
.cart-panel-header{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin-bottom:30px;
 padding-bottom:20px;
 border-bottom:1px solid var(--border);
}
.cart-panel h3{
 margin:0;
 font-weight:900;
 font-size:36px;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
}
.cart-close{
 background:var(--glass);
 border:1px solid var(--border);
 width:48px;
 height:48px;
 border-radius:20px;
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 transition:var(--transition);
 font-size:24px;
 box-shadow:var(--shadow-md);
}
.cart-close:hover{
 background:rgba(255,255,255,0.15);
 transform:rotate(90deg);
}
.cart-item{
 display:flex;
 gap:20px;
 align-items:center;
 padding:20px 0;
 border-bottom:1px dashed var(--border);
 position:relative;
}
.cart-item img{
 width:85px;
 height:85px;
 object-fit:contain;
 border-radius:16px;
 background:var(--glass);
 padding:8px;
 box-shadow:var(--shadow-md);
}
.cart-item-info{
 flex:1;
}
.cart-item-title{
 font-weight:700;
 margin-bottom:6px;
 font-size:19px;
}
.cart-item-price{
 opacity:.85;
 font-size:17px;
 font-weight:500;
}
.cart-item-quantity{
 display:flex;
 align-items:center;
 gap:15px;
 margin-top:10px;
}
.quantity-change{
 width:36px;
 height:36px;
 border-radius:12px;
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 transition:var(--transition);
 font-weight:700;
 font-size:18px;
 box-shadow:var(--shadow-sm);
}
.quantity-change:hover{
 background:rgba(255,255,255,0.15);
 transform:scale(1.15);
}
.quantity-display{
 min-width:30px;
 text-align:center;
 font-weight:700;
 font-size:19px;
}
.remove-item{
 position:absolute;
 top:15px;
 right:0;
 width:38px;
 height:38px;
 border-radius:16px;
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 transition:var(--transition);
 font-size:18px;
 opacity:0;
 transform:translateX(15px);
 box-shadow:var(--shadow-md);
}
.cart-item:hover .remove-item{
 opacity:1;
 transform:translateX(0);
}
.remove-item:hover{
 background:rgba(239, 68, 68, 0.2);
 color:var(--danger);
 border-color:var(--danger);
 transform:scale(1.2);
 box-shadow:0 0 20px rgba(239, 68, 68, 0.3);
}
.cart-total{
 font-weight:900;
 margin-top:30px;
 text-align:right;
 font-size:32px;
 padding-top:25px;
 border-top:2px solid var(--border);
 display:flex;
 justify-content:space-between;
}
.cart-total span{
 color:var(--accent);
}
.cart-panel-actions{
 margin-top:30px;
 display:flex;
 flex-direction:column;
 gap:20px;
}
.checkout-btn{
 background:var(--gradient-primary);
 color:white;
 border:none;
 padding:22px 30px;
 border-radius:24px;
 cursor:pointer;
 font-weight:800;
 font-size:22px;
 transition:var(--transition);
 width:100%;
 box-shadow:0 10px 35px rgba(99, 102, 241, 0.55);
 letter-spacing:1px;
}
.checkout-btn:hover{
 transform:translateY(-4px);
 box-shadow:0 15px 40px rgba(99, 102, 241, 0.7);
}
.checkout-btn:active{
 transform:translateY(0);
}
.clear-cart-btn{
 background:transparent;
 border:2px solid var(--border);
 color:var(--text);
 padding:20px 30px;
 border-radius:24px;
 cursor:pointer;
 font-weight:700;
 font-size:20px;
 transition:var(--transition);
 width:100%;
}
.clear-cart-btn:hover{
 background:rgba(255,255,255,0.08);
 transform:translateY(-3px);
 border-color:var(--danger);
 color:var(--danger);
 box-shadow:0 8px 25px rgba(239, 68, 68, 0.3);
}

/* Wishlist panel */
.wishlist-panel{
 position:fixed;
 left:-520px;
 top:0;
 height:100%;
 width:500px;
 background:var(--glass-strong);
 border-right:1px solid var(--border);
 box-shadow:var(--shadow-xl);
 transition:left 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
 z-index:160;
 padding:40px 30px;
 overflow:auto;
 display:flex;
 flex-direction:column;
 backdrop-filter:blur(25px);
}
.wishlist-panel.open{
 left:0;
}
.wishlist-panel-header{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin-bottom:30px;
 padding-bottom:20px;
 border-bottom:1px solid var(--border);
}
.wishlist-panel h3{
 margin:0;
 font-weight:900;
 font-size:36px;
 background:linear-gradient(90deg, var(--accent3), var(--accent2), var(--accent));
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
}
.wishlist-close{
 background:var(--glass);
 border:1px solid var(--border);
 width:48px;
 height:48px;
 border-radius:20px;
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 transition:var(--transition);
 font-size:24px;
 box-shadow:var(--shadow-md);
}
.wishlist-close:hover{
 background:rgba(255,255,255,0.15);
 transform:rotate(90deg);
}
.wishlist-empty{
 text-align:center;
 padding:60px 20px;
 opacity:0.85;
 font-size:20px;
}
.wishlist-item{
 display:flex;
 gap:20px;
 align-items:center;
 padding:20px 0;
 border-bottom:1px dashed var(--border);
}
.wishlist-item img{
 width:85px;
 height:85px;
 object-fit:contain;
 border-radius:16px;
 background:var(--glass);
 padding:8px;
 box-shadow:var(--shadow-md);
}
.wishlist-item-info{
 flex:1;
}
.wishlist-item-title{
 font-weight:700;
 margin-bottom:6px;
 font-size:19px;
}
.wishlist-item-price{
 opacity:.85;
 font-size:17px;
 color:var(--accent);
 font-weight:700;
}
.wishlist-actions{
 display:flex;
 gap:15px;
 margin-top:15px;
}
.add-to-cart-btn{
 background:var(--gradient-primary);
 color:white;
 border:none;
 padding:14px 25px;
 border-radius:18px;
 cursor:pointer;
 font-weight:700;
 transition:var(--transition);
 flex:1;
 display:flex;
 align-items:center;
 justify-content:center;
 gap:8px;
 font-size:18px;
 box-shadow:0 6px 20px rgba(99, 102, 241, 0.4);
}
.add-to-cart-btn:hover{
 transform:translateY(-3px);
 box-shadow:0 10px 25px rgba(99, 102, 241, 0.55);
}
.remove-wishlist-btn{
 background:var(--glass);
 border:1px solid var(--border);
 color:var(--text);
 width:44px;
 height:44px;
 border-radius:16px;
 display:flex;
 align-items:center;
 justify-content:center;
 cursor:pointer;
 transition:var(--transition);
 font-size:18px;
 box-shadow:var(--shadow-md);
}
.remove-wishlist-btn:hover{
 background:rgba(239, 68, 68, 0.15);
 color:var(--danger);
 border-color:var(--danger);
 transform:scale(1.15);
 box-shadow:0 0 20px rgba(239, 68, 68, 0.3);
}

/* Toast */
.toast{
 position:fixed;
 left:50%;
 transform:translateX(-50%) translateY(150px);
 bottom:40px;
 background:var(--gradient-primary);
 color:white;
 padding:20px 35px;
 border-radius:24px;
 box-shadow:0 15px 50px rgba(0,0,0,0.45);
 z-index:200;
 opacity:0;
 pointer-events:none;
 transition:all .45s cubic-bezier(0.175, 0.885, 0.32, 1.275);
 font-weight:700;
 font-size:19px;
 max-width:90%;
 text-align:center;
 display:flex;
 align-items:center;
 gap:15px;
 backdrop-filter:blur(10px);
 border:1px solid var(--border);
}
.toast.show{
 opacity:1;
 transform:translate(-50%, -20px);
 pointer-events:auto;
 animation:pop 0.45s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes pop{
 0%{transform:translate(-50%, -20px) scale(0.9);}
 50%{transform:translate(-50%, -25px) scale(1.05);}
 100%{transform:translate(-50%, -20px) scale(1);}
}
.toast i{
 font-size:24px;
 min-width:24px;
 text-align:center;
}
.toast.success{
 background:linear-gradient(90deg, var(--success), #22c55e, var(--success));
}
.toast.error{
 background:linear-gradient(90deg, var(--danger), #f97316, var(--danger));
}
.toast.wishlist{
 background:linear-gradient(90deg, var(--accent3), #f472b6, var(--accent3));
}

/* ===== CAROUSEL SLIDER ===== */
.carousel-container{
 position:relative;
 width:100%;
 padding:60px 0;
 background:linear-gradient(180deg, rgba(0, 255, 255, 0.05), rgba(255, 0, 110, 0.03));
 overflow:hidden;
}
.carousel{
 width:100%;
 overflow:hidden;
 position:relative;
}
.carousel-track{
 display:flex;
 width:100%;
 animation:carouselSlide 30s linear infinite;
}
.carousel-item{
 flex:0 0 25%;
 padding:20px;
 min-height:400px;
 display:flex;
 align-items:center;
 justify-content:center;
 background:linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 110, 0.05));
 border:2px solid var(--neon-cyan);
 border-radius:20px;
 margin:0 10px;
 animation:neonBorderGlow 3s ease-in-out infinite;
 box-shadow:0 0 20px var(--neon-cyan);
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.carousel-item:hover{
 transform:scale(1.05) translateY(-20px);
 box-shadow:0 0 40px var(--neon-pink), 0 0 80px var(--neon-purple);
 border-color:var(--neon-pink);
}
.carousel-item img{
 width:100%;
 height:300px;
 object-fit:contain;
 filter:drop-shadow(0 0 10px var(--neon-cyan));
}

/* ===== 3D GALLERY ===== */
.gallery-3d{
 perspective:1000px;
 width:100%;
 padding:80px 0;
 background:linear-gradient(180deg, #0a0b1a, #1a1b3a);
 position:relative;
 overflow:hidden;
}
.gallery-3d::before{
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 50% 50%, rgba(0, 255, 255, 0.1), transparent 70%);
 animation:liquidWave 8s ease-in-out infinite;
 z-index:0;
}
.gallery-grid-3d{
 display:grid;
 grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
 gap:40px;
 padding:0 5%;
 max-width:1600px;
 margin:0 auto;
 position:relative;
 z-index:1;
}
.gallery-item-3d{
 perspective:1000px;
 height:350px;
 cursor:pointer;
 position:relative;
 transform-style:preserve-3d;
 animation:rotate3D 6s ease-in-out infinite;
}
.gallery-item-3d-inner{
 position:relative;
 width:100%;
 height:100%;
 transform-style:preserve-3d;
 transition:transform 0.6s;
}
.gallery-item-3d:hover .gallery-item-3d-inner{
 transform:rotateY(180deg);
}
.gallery-item-3d-front, .gallery-item-3d-back{
 position:absolute;
 width:100%;
 height:100%;
 backface-visibility:hidden;
 display:flex;
 align-items:center;
 justify-content:center;
 border-radius:20px;
 font-weight:700;
 font-size:20px;
 box-shadow:0 0 30px var(--neon-cyan);
}
.gallery-item-3d-front{
 background:linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
 color:white;
 padding:20px;
 text-align:center;
}
.gallery-item-3d-back{
 background:linear-gradient(135deg, var(--neon-pink), var(--neon-blue));
 color:white;
 padding:20px;
 text-align:center;
 transform:rotateY(180deg);
}

/* ===== LIQUID BUTTON ===== */
.liquid-btn{
 position:relative;
 padding:20px 50px;
 font-size:20px;
 font-weight:800;
 border:1.5px solid rgba(255, 255, 255, 0.3);
 border-radius:60px;
 cursor:pointer;
 overflow:hidden;
 background:linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
 color:white;
 box-shadow:0 12px 40px var(--neon-cyan), inset 0 2px 2px rgba(255, 255, 255, 0.4);
 transition:all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
 animation:waveMotion 2s ease-in-out infinite;
 letter-spacing:1px;
 text-transform:uppercase;
}
.liquid-btn::before{
 content:'';
 position:absolute;
 top:-50%;
 left:-50%;
 width:200%;
 height:200%;
 background:radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent);
 animation:liquidWave 4s ease-in-out infinite;
 z-index:0;
}
.liquid-btn:hover{
 box-shadow:0 18px 60px var(--neon-pink), 0 0 100px var(--neon-purple), inset 0 2px 2px rgba(255, 255, 255, 0.5);
 transform:scale(1.15) translateY(-8px);
 border-color:rgba(255, 255, 255, 0.5);
}
.liquid-btn:active{
 transform:scale(1.08) translateY(-3px);
}
.liquid-btn span{
 position:relative;
 z-index:1;
 display:flex;
 align-items:center;
 gap:10px;
}

/* Footer */
footer{
 padding:80px 8% 50px;
 text-align:center;
 background:var(--bg-secondary);
 background-image:url('images/footer-bg.svg');
 background-size:cover;
 background-position:center;
 background-attachment:fixed;
 border-top:1px solid var(--border);
 margin-top:40px;
 font-size:17px;
 color:var(--text-secondary);
 position:relative;
 overflow:hidden;
}
footer::before{
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 30% 40%, rgba(99, 102, 241, 0.07), transparent 40%),
           radial-gradient(circle at 70% 60%, rgba(147, 51, 234, 0.06), transparent 45%),
           linear-gradient(180deg, rgba(10, 11, 26, 0.4) 0%, rgba(10, 11, 26, 0.6) 100%);
 z-index:1;
}
.footer-content{
 max-width:1200px;
 margin:0 auto;
 display:flex;
 flex-direction:column;
 align-items:center;
 gap:35px;
 position:relative;
 z-index:2;
}
.footer-logo{
 font-size:36px;
 font-weight:900;
 background:var(--gradient-primary);
 -webkit-background-clip:text;
 background-clip:text;
 color:transparent;
 margin-bottom:15px;
 display:flex;
 align-items:center;
 gap:15px;
}
.footer-logo i{
 font-size:42px;
}
.footer-links{
 display:flex;
 gap:35px;
 flex-wrap:wrap;
 justify-content:center;
 margin:25px 0;
 flex-wrap:wrap;
}
.footer-links a{
 color:var(--text);
 text-decoration:none;
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 font-weight:600;
 padding:12px 24px;
 border-radius:20px;
 font-size:18px;
 position:relative;
 overflow:hidden;
 background:linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
 border:1px solid rgba(99, 102, 241, 0.15);
 display:flex;
 align-items:center;
 gap:8px;
}
.footer-links a::after{
 content:'';
 position:absolute;
 bottom:-3px;
 left:50%;
 transform:translateX(-50%) scaleX(0);
 width:80%;
 height:3px;
 background:var(--gradient-primary);
 border-radius:3px;
 transition:transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 box-shadow:0 0 10px rgba(99, 102, 241, 0.4);
}
.footer-links a:hover::after{
 transform:translateX(-50%) scaleX(1);
}
.footer-links a:hover{
 color:var(--accent2);
 background:linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(147, 51, 234, 0.1));
 border-color:var(--accent);
 transform:translateY(-4px);
 box-shadow:0 12px 30px rgba(99, 102, 241, 0.25), inset 0 1px 1px rgba(255, 255, 255, 0.1);
}
.copyright{
 opacity:.85;
 font-size:17px;
 margin-top:15px;
 padding-top:25px;
 border-top:1px solid var(--border);
 width:100%;
}

/* Back to top button */
.back-to-top{
 position:fixed;
 bottom:40px;
 right:40px;
 width:65px;
 height:65px;
 border-radius:50%;
 background:linear-gradient(135deg, var(--accent), var(--accent2), var(--accent3));
 color:white;
 border:1px solid rgba(255, 255, 255, 0.2);
 cursor:pointer;
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:28px;
 box-shadow:0 12px 40px rgba(99, 102, 241, 0.6), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 z-index:100;
 opacity:0;
 transform:translateY(30px) scale(0.9);
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 position:relative;
 overflow:hidden;
}
.back-to-top::before {
 content:'';
 position:absolute;
 inset:0;
 background:linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
 opacity:0;
 transition:opacity 0.4s;
}
.back-to-top:hover::before {
 opacity:1;
}\n.back-to-top.show{
 opacity:1;
 transform:translateY(0) scale(1);
}
.back-to-top:hover{
 transform:translateY(-10px) scale(1.1);
 box-shadow:0 18px 50px rgba(99, 102, 241, 0.8), 0 0 30px rgba(99, 102, 241, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.back-to-top:active{
 transform:translateY(0) scale(0.95);
}

/* Floating Action Button */
.fab{
 position:fixed;
 bottom:100px;
 right:40px;
 width:60px;
 height:60px;
 border-radius:50%;
 background:linear-gradient(135deg, var(--accent2), var(--accent3), var(--accent));
 color:white;
 border:1px solid rgba(255, 255, 255, 0.2);
 cursor:pointer;
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:24px;
 box-shadow:0 12px 35px rgba(147, 51, 234, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.2);
 z-index:90;
 opacity:0;
 transform:scale(0.8);
 transition:all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
 position:relative;
 overflow:hidden;
}
.fab::before {
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.2), transparent 70%);
 opacity:0;
 transition:opacity 0.4s;
}
.fab:hover::before {
 opacity:1;
}
.fab::before{
 content:'';
 position:absolute;
 inset:0;
 background:radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.2), transparent 70%);
 opacity:0;
 transition:opacity 0.4s;
}
.fab:hover::before{
 opacity:1;
}
.fab.show{
 opacity:1;
 transform:scale(1);
 animation:floatingBubble 2s ease-in-out infinite;
}
.fab:hover{
 transform:scale(1.15) rotate(20deg);
 box-shadow:0 16px 45px rgba(147, 51, 234, 0.7), 0 0 30px rgba(147, 51, 234, 0.4), inset 0 1px 1px rgba(255, 255, 255, 0.2);
}
.fab:active{
 transform:scale(0.95);
}

/* Scroll reveal animation for sections */
.fade-in-section{
 opacity:0;
 transform:translateY(40px);
 transition:all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
}
.fade-in-section.revealed{
 opacity:1;
 transform:translateY(0);
}

/* Responsive */
@media (max-width:1400px){
 .hero h1{font-size:72px}
 .hero p{font-size:24px}
 .modal-img{min-width:350px; height:450px}
 .controls-row{flex-direction:column; align-items:stretch}
 .range-container{flex-direction:row; align-items:center; gap:20px; justify-content:space-between}
}
@media (max-width:1100px){
 .nav-center{display:none}
 .logo{font-size:28px}
 .logo-mark{width:48px; height:48px; font-size:24px}
 nav{padding:16px 4%; height:80px}
 .hero{padding:120px 6% 90px; min-height:85vh}
 .hero h1{font-size:64px}
 .hero p{font-size:22px}
 .hero-btns{gap:20px}
 .hero-btn{padding:18px 40px; font-size:19px; min-width:220px}
 .section-title{font-size:42px}
 .section-subtitle{font-size:20px}
 .filters{padding:18px 4%}
 .cat-btn{padding:14px 28px; font-size:17px; min-width:140px}
 .controls-row{padding:20px 4%}
 .select,.sort{min-width:220px; font-size:17px}
 .range-container{min-width:250px}
 .products{padding:20px 3% 60px; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:35px}
 .card-img-container{height:220px}
 .card h3{font-size:20px}
 .price{font-size:28px}
 .badge{padding:8px 16px; font-size:15px}
 .wishlist-btn{width:44px; height:44px; font-size:18px}
 .cart-panel, .wishlist-panel{width:100%; right:-100%; left:-100%}
 .cart-panel.open, .wishlist-panel.open{right:0; left:0}
 .back-to-top, .fab{width:55px; height:55px; font-size:24px; bottom:30px; right:30px}
 .newsletter-form{flex-direction:column}
}
@media (max-width:768px){
 .hero{padding:100px 5% 80px; min-height:80vh}
 .hero h1{font-size:52px}
 .hero p{font-size:20px}
 .hero-btn{padding:16px 35px; font-size:18px; min-width:200px}
 .section-title{font-size:36px}
 .section-subtitle{font-size:19px}
 nav{padding:14px 4%; height:75px}
 .logo{font-size:26px}
 .logo-mark{width:44px; height:44px; font-size:22px}
 .icon-btn{padding:12px 16px; min-width:48px; height:48px; font-size:17px}
 .cart-count, .wishlist-count{top:-8px; right:-8px; padding:4px 8px; min-width:22px; font-size:11px}
 .features-grid{grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:30px}
 .feature-card{padding:35px 25px}
 .feature-icon{width:80px; height:80px; font-size:32px}
 .feature-card h3{font-size:24px}
 .filters{padding:15px 4%; gap:15px}
 .cat-btn{padding:12px 22px; font-size:16px; min-width:130px}
 .controls-row{padding:18px 4%; gap:15px}
 .select,.sort{min-width:200px; font-size:16px; padding:14px 20px}
 .range-container{min-width:220px}
 .products{grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:30px}
 .card-img-container{height:200px}
 .card h3{font-size:19px}
 .price{font-size:26px}
 .card-actions{gap:12px; flex-direction:column}
 .small-btn, .btn{width:100%; min-width:auto}
 .newsletter h2{font-size:38px}
 .newsletter p{font-size:19px}
 .newsletter-input{padding:16px 20px; font-size:17px}
 .newsletter-btn{padding:0 25px; font-size:18px}
 footer{padding:60px 5% 40px}
 .footer-logo{font-size:30px}
 .footer-links{gap:20px}
 .footer-links a{font-size:17px; padding:8px 15px}
 
 /* Carousel & Gallery Responsive */
 .carousel-item{flex:0 0 50%; padding:15px;}
 .gallery-grid-3d{grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:25px; padding:0 5%;}
 .gallery-item-3d{height:280px;}
 .liquid-btn{padding:12px 30px; font-size:16px;}
}
</style>
</head>
<body>

  <a class="skip-link" href="#mainContent">Skip to main content</a>

<!-- Loading Screen -->
<div id="loading-screen">
  <div id="loading-logo">MS</div>
  <div id="loading-progress">
    <div id="loading-bar"></div>
  </div>
  <div id="loading-text">LOADING ULTIMATE EXPERIENCE...</div>
</div>

<div class="bg-anim" aria-hidden="true"></div>
<div id="particles-js"></div>

<!-- Enhanced Intro Section - Cinematic Experience -->
<div id="intro" class="intro" role="dialog" aria-modal="true" aria-labelledby="introTitle">
  <video class="intro-video" autoplay muted loop playsinline>
    <source src="https://assets.mixkit.co/videos/preview/mixkit-gaming-controller-abstract-background-1399-large.mp4" type="video/mp4">
  </video>
  <div class="intro-content">
    <div class="title" id="introTitle">MAHYAR SHOP</div>
    <div class="subtitle">Where Champions Gear Up - Premium Equipment for Elite Gamers Worldwide</div>
    <div class="intro-features">
      <div class="intro-feature pro-grade">
        <i class="fas fa-shield-alt"></i>
        <span>Pro-Grade Equipment - Tournament Ready</span>
      </div>
      <div class="intro-feature shipping">
        <i class="fas fa-rocket"></i>
        <span>Lightning Fast Shipping - Global Delivery</span>
      </div>
      <div class="intro-feature support">
        <i class="fas fa-headset"></i>
        <span>24/7 VIP Support - Always Here For You</span>
      </div>
      <div class="intro-feature warranty">
        <i class="fas fa-medal"></i>
        <span>Authentic Products - 24-Month Warranty</span>
      </div>
    </div>
    <div class="intro-actions">
      <button type="button" id="getStarted" class="primary-btn"><i class="fas fa-gamepad"></i> EXPLORE COLLECTION</button>
      <button type="button" id="skipIntro" class="skip-btn"><i class="fas fa-times"></i> SKIP INTRO</button>
    </div>
    <div class="intro-progress">
      <div class="intro-progress-bar" id="introProgressBar"></div>
    </div>
  </div>
</div>

<!-- NAV - Completely Redesigned with Search at Top -->
<nav aria-label="Main Navigation">
 <div class="nav-left">
   <div class="logo-mark" aria-hidden="true"><i class="fas fa-crown"></i></div>
   <div class="logo">MAHYAR SHOP</div>
 </div>
 
 <div class="nav-center">
   <div class="search-container">
     <i class="fas fa-search"></i>
     <input id="searchInput" class="search" placeholder="Search for gaming gear, accessories, and more..." aria-label="Search products">
   </div>
 </div>
 
 <div class="nav-right">
   <button type="button" class="icon-btn user" title="Account" aria-label="User account">
     <i class="fas fa-user"></i>
     <span>Account</span>
   </button>
   <button type="button" id="wishlistPanelToggle" class="icon-btn" title="Wishlist" aria-label="Wishlist">
     <i class="far fa-heart"></i>
     <span class="wishlist-count" id="wishlistCount">0</span>
   </button>
   <button type="button" id="cartPanelToggle" class="icon-btn cart" title="Shopping Cart" aria-label="Shopping Cart" aria-expanded="false">
     <i class="fas fa-shopping-cart"></i>
     <span id="cartCount" class="cart-count">0</span>
   </button>
   <button type="button" id="themeBtn" class="icon-btn" title="Toggle Theme" aria-label="Toggle to light theme">
     <i class="fas fa-moon"></i>
   </button>
 </div>
</nav>

<!-- HERO - With Video Background -->
<section id="mainContent" class="hero" aria-labelledby="heroTitle">
 <div class="hero-element hero-element-1"></div>
 <div class="hero-element hero-element-2"></div>
 <div class="hero-element hero-element-3"></div>
 <div class="hero-element hero-element-4"></div>
 
 <div class="hero-content">
   <div class="hero-badge">PRO GAMER EDITION</div>
   <h1 id="heroTitle">DOMINATE THE COMPETITION WITH ELITE GAMING GEAR</h1>
   <p>Experience unrivaled performance, precision engineering, and breathtaking design. Equipment trusted by esports champions and streamers worldwide.</p>
   <div class="hero-btns">
     <button type="button" class="hero-btn primary-hero-btn" id="shopNowBtn"><i class="fas fa-gamepad"></i> SHOP NOW</button>
     <button type="button" class="hero-btn secondary-hero-btn" id="exploreBtn"><i class="fas fa-info-circle"></i> EXPLORE COLLECTION</button>
   </div>
 </div>
</section>

<!-- Why Choose Us Section -->
<section class="why-choose-us" aria-label="Why Choose Us">
 <h2 class="section-title">WHY GAMERS CHOOSE US</h2>
 <p class="section-subtitle">We deliver more than just gaming gear - we provide a competitive edge and an unparalleled experience</p>
 
 <div class="features-grid">
   <div class="feature-card pro-grade">
     <div class="feature-icon">
       <i class="fas fa-trophy"></i>
     </div>
     <h3>TOURNAMENT GRADE</h3>
     <p>Every product is rigorously tested and certified for professional esports competitions. No compromises on quality or performance.</p>
   </div>
   <div class="feature-card fast-shipping">
     <div class="feature-icon">
       <i class="fas fa-shipping-fast"></i>
     </div>
     <h3>GLOBAL EXPRESS</h3>
     <p>Lightning-fast shipping to over 150 countries. Most orders ship within 24 hours with real-time tracking and insurance.</p>
   </div>
   <div class="feature-card secure-payments">
     <div class="feature-icon">
       <i class="fas fa-lock"></i>
     </div>
     <h3>SECURE CHECKOUT</h3>
     <p>Bank-grade security with multiple payment options. Your data is protected with military-grade encryption and fraud prevention.</p>
   </div>
   <div class="feature-card warranty">
     <div class="feature-icon">
       <i class="fas fa-headset"></i>
     </div>
     <h3>24/7 VIP SUPPORT</h3>
     <p>Dedicated support team available around the clock. Get instant help from gaming experts who understand your needs.</p>
   </div>
 </div>
</section>

<!-- Featured Products Section -->
<section class="featured-section" aria-label="Featured Products">
 <div class="section-header">
   <h2 class="section-title">FEATURED PRODUCTS</h2>
   <button type="button" class="view-all-btn">
     VIEW ALL <i class="fas fa-arrow-right"></i>
   </button>
 </div>
 
 <div class="featured-grid" id="featuredProducts"></div>
 
 <button type="button" class="see-more-btn">SEE MORE PRODUCTS <i class="fas fa-arrow-down"></i></button>
</section>

<!-- CAROUSEL SECTION -->
<section class="carousel-container" aria-label="Product Carousel">
 <h2 style="text-align:center; font-size:48px; margin-bottom:20px; font-weight:900; letter-spacing:2px;">
   <span style="background:linear-gradient(90deg, var(--neon-cyan), var(--neon-pink), var(--neon-purple)); -webkit-background-clip:text; background-clip:text; color:transparent; animation:neonGlow 3s ease-in-out infinite; display:inline-block;">🎮 PREMIUM GAMING CAROUSEL</span>
 </h2>
 <p style="text-align:center; font-size:18px; color:#b8c1e0; margin-bottom:40px;">Scroll to explore our elite gaming gear collection</p>
 <div class="carousel" id="carouselMain">
   <div class="carousel-track">
     <div class="carousel-item">
       <div style="text-align:center;">
         <img src="images/headset.svg" alt="Headset" style="width:100%; max-width:150px;">
         <h3 style="margin-top:20px; color:var(--neon-cyan); text-shadow:0 0 10px var(--neon-cyan);">NEXUS PRO</h3>
         <p style="color:#b8c1e0; font-size:14px;">Tournament Headset</p>
       </div>
     </div>
     <div class="carousel-item">
       <div style="text-align:center;">
         <img src="images/mouse.svg" alt="Mouse" style="width:100%; max-width:150px;">
         <h3 style="margin-top:20px; color:var(--neon-pink); text-shadow:0 0 10px var(--neon-pink);">AURORA RGB</h3>
         <p style="color:#b8c1e0; font-size:14px;">Ultra-Light Gaming Mouse</p>
       </div>
     </div>
     <div class="carousel-item">
       <div style="text-align:center;">
         <img src="images/keyboard.svg" alt="Keyboard" style="width:100%; max-width:150px;">
         <h3 style="margin-top:20px; color:var(--neon-purple); text-shadow:0 0 10px var(--neon-purple);">VORTEX MECH</h3>
         <p style="color:#b8c1e0; font-size:14px;">Mechanical Keyboard</p>
       </div>
     </div>
     <div class="carousel-item">
       <div style="text-align:center;">
         <img src="images/monitor.svg" alt="Monitor" style="width:100%; max-width:150px;">
         <h3 style="margin-top:20px; color:var(--neon-green); text-shadow:0 0 10px var(--neon-green);">NEBULA 4K</h3>
         <p style="color:#b8c1e0; font-size:14px;">4K Gaming Monitor</p>
       </div>
     </div>
     <!-- Duplicate for continuous scroll -->
     <div class="carousel-item">
       <div style="text-align:center;">
         <img src="images/headset.svg" alt="Headset" style="width:100%; max-width:150px;">
         <h3 style="margin-top:20px; color:var(--neon-cyan); text-shadow:0 0 10px var(--neon-cyan);">NEXUS PRO</h3>
         <p style="color:#b8c1e0; font-size:14px;">Tournament Headset</p>
       </div>
     </div>
   </div>
 </div>
</section>

<!-- 3D GALLERY SECTION -->
<section class="gallery-3d" aria-label="3D Product Gallery">
 <h2 style="text-align:center; font-size:42px; margin-bottom:80px; background:linear-gradient(90deg, var(--neon-cyan), var(--neon-pink)); -webkit-background-clip:text; background-clip:text; color:transparent; position:relative; z-index:2;">✨ 3D INTERACTIVE GALLERY</h2>
 <div class="gallery-grid-3d">
   <div class="gallery-item-3d">
     <div class="gallery-item-3d-inner">
       <div class="gallery-item-3d-front">
         <div>
           <img src="images/headset.svg" alt="Headset" style="width:80%; height:auto; filter:brightness(2);">
           <p style="margin-top:20px;">Pro Headset</p>
         </div>
       </div>
       <div class="gallery-item-3d-back">💰 $129</div>
     </div>
   </div>
   <div class="gallery-item-3d">
     <div class="gallery-item-3d-inner">
       <div class="gallery-item-3d-front">
         <div>
           <img src="images/mouse.svg" alt="Mouse" style="width:80%; height:auto; filter:brightness(2);">
           <p style="margin-top:20px;">Gaming Mouse</p>
         </div>
       </div>
       <div class="gallery-item-3d-back">💰 $89</div>
     </div>
   </div>
   <div class="gallery-item-3d">
     <div class="gallery-item-3d-inner">
       <div class="gallery-item-3d-front">
         <div>
           <img src="images/keyboard.svg" alt="Keyboard" style="width:80%; height:auto; filter:brightness(2);">
           <p style="margin-top:20px;">Mech Keyboard</p>
         </div>
       </div>
       <div class="gallery-item-3d-back">💰 $159</div>
     </div>
   </div>
   <div class="gallery-item-3d">
     <div class="gallery-item-3d-inner">
       <div class="gallery-item-3d-front">
         <div>
           <img src="images/monitor.svg" alt="Monitor" style="width:80%; height:auto; filter:brightness(2);">
           <p style="margin-top:20px;">4K Monitor</p>
         </div>
       </div>
       <div class="gallery-item-3d-back">💰 $499</div>
     </div>
   </div>
 </div>
</section>

<!-- MEGA ACTION SECTION -->
<section style="padding:100px 5%; background:linear-gradient(180deg, #0a0b1a 0%, rgba(0, 255, 255, 0.05) 50%, #0a0b1a 100%); text-align:center; position:relative; overflow:hidden;">
 <div style="position:absolute; inset:0; background:radial-gradient(circle at 50% 50%, rgba(196, 0, 255, 0.1), transparent 70%); z-index:0;"></div>
 <div style="position:relative; z-index:1;">
   <h2 style="font-size:56px; font-weight:900; margin-bottom:20px; letter-spacing:3px;">
     <span style="background:linear-gradient(90deg, var(--neon-cyan), var(--neon-pink), var(--neon-purple), var(--neon-cyan)); background-size:300% 100%; animation:neonGlow 4s ease-in-out infinite; -webkit-background-clip:text; background-clip:text; color:transparent;">⚡ ULTIMATE GAMING EXPERIENCE</span>
   </h2>
   <p style="font-size:24px; color:#b8c1e0; margin-bottom:50px; max-width:800px; margin-left:auto; margin-right:auto; line-height:1.8;">Join thousands of pro gamers and streamers who trust our elite equipment</p>
   <div style="display:flex; gap:30px; justify-content:center; flex-wrap:wrap;">
     <button class="liquid-btn" onclick="alert('🎮 Welcome to Mahyar Gaming!'); createParticles(event.clientX, event.clientY);">
       <span>🚀 START YOUR JOURNEY</span>
     </button>
     <button class="liquid-btn" onclick="alert('💎 Premium Gear Awaits!'); createParticles(event.clientX, event.clientY);" style="background:linear-gradient(135deg, var(--neon-pink), var(--neon-blue)); box-shadow:0 0 20px var(--neon-pink), inset 0 1px 1px rgba(255, 255, 255, 0.3);">
       <span>💎 EXPLORE PREMIUM</span>
     </button>
   </div>
 </div>
</section>

<!-- filters -->
<div class="filters" role="region" aria-label="Product Filters">
 <button type="button" class="cat-btn active" data-cat="all" aria-pressed="true">
   <i class="fas fa-th-large"></i> ALL PRODUCTS
 </button>
 <button type="button" class="cat-btn" data-cat="headset" aria-pressed="false">
   <i class="fas fa-headphones"></i> HEADSETS
 </button>
 <button type="button" class="cat-btn" data-cat="mouse" aria-pressed="false">
   <i class="fas fa-mouse"></i> MICE
 </button>
 <button type="button" class="cat-btn" data-cat="keyboard" aria-pressed="false">
   <i class="fas fa-keyboard"></i> KEYBOARDS
 </button>
 <button type="button" class="cat-btn" data-cat="accessories" aria-pressed="false">
   <i class="fas fa-gamepad"></i> ACCESSORIES
 </button>
</div>

<div class="controls-row" style="justify-content:center">
 <select id="sortSelect" class="select sort" aria-label="Sort products">
   <option value="default">SORT: RECOMMENDED</option>
   <option value="price-asc">PRICE: LOW TO HIGH</option>
   <option value="price-desc">PRICE: HIGH TO LOW</option>
   <option value="name-asc">NAME: A TO Z</option>
   <option value="rating-desc">RATING: HIGHEST</option>
 </select>
 <div class="range-container">
   <div class="range-label">
     <span>MAX PRICE:</span>
     <span id="priceDisplay" style="font-weight:700; color:var(--accent)">$400</span>
   </div>
   <div style="position:relative">
     <input id="priceRange" class="range-slider" type="range" min="20" max="400" value="400" aria-label="Maximum price" step="5">
     <div class="range-track" id="rangeTrack"></div>
   </div>
 </div>
</div>

<!-- PRODUCTS -->
<section class="products" id="products" aria-live="polite" aria-label="Product List"></section>

<!-- Newsletter Section -->
<section class="newsletter" aria-label="Newsletter Signup">
 <h2>JOIN THE ELITE GAMING COMMUNITY</h2>
 <p>Subscribe to get exclusive offers, early access to new products, and pro gaming tips from our champions</p>
 <form class="newsletter-form">
   <input type="email" class="newsletter-input" placeholder="Your email address" required aria-label="Email address">
   <button type="submit" class="newsletter-btn">SUBSCRIBE NOW</button>
 </form>
</section>

<!-- cart panel -->
<aside class="cart-panel" id="cartPanel" aria-label="Shopping Cart" aria-hidden="true">
 <div class="cart-panel-header">
   <h3>YOUR SHOPPING CART</h3>
   <button type="button" id="cartCloseBtn" class="cart-close" aria-label="Close shopping cart">
     <i class="fas fa-times"></i>
   </button>
 </div>
 <div id="cartItemsList" style="flex:1;overflow-y:auto;padding-bottom:20px"></div>
 <div class="cart-total">
   <span>TOTAL:</span>
   <span id="cartPanelTotal">$0</span>
 </div>
 <div class="cart-panel-actions">
   <button type="button" id="checkoutBtn" class="checkout-btn"><i class="fas fa-credit-card"></i> PROCEED TO CHECKOUT (DEMO)</button>
   <button type="button" id="clearCartBtn" class="clear-cart-btn"><i class="fas fa-trash-alt"></i> CLEAR ENTIRE CART</button>
 </div>
</aside>

<!-- wishlist panel -->
<aside class="wishlist-panel" id="wishlistPanel" aria-label="Wishlist" aria-hidden="true">
 <div class="wishlist-panel-header">
   <h3>YOUR WISHLIST</h3>
   <button type="button" id="wishlistCloseBtn" class="wishlist-close" aria-label="Close wishlist">
     <i class="fas fa-times"></i>
   </button>
 </div>
 <div id="wishlistItemsList" style="flex:1;overflow-y:auto;padding-bottom:20px"></div>
</aside>

<!-- modal quickview -->
<div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
 <div class="modal-content" id="modalContent"></div>
 <button type="button" id="modalClose" class="modal-close" aria-label="Close modal">
   <i class="fas fa-times"></i>
 </button>
</div>

<!-- toast -->
<div id="toast" class="toast" role="status" aria-live="assertive" aria-atomic="true">
 <i class="fas fa-check-circle"></i>
 <span id="toastMessage">Added to cart successfully</span>
</div>

<!-- back to top button -->
<button type="button" id="backToTopBtn" class="back-to-top" aria-label="Back to top">
 <i class="fas fa-arrow-up"></i>
</button>

<!-- Floating Action Button -->
<button type="button" id="fabBtn" class="fab" aria-label="Quick actions">
 <i class="fas fa-plus"></i>
</button>

<footer aria-label="Footer">
 <div class="footer-content">
   <div class="footer-logo">
     <i class="fas fa-crown"></i>
     MAHYAR SHOP
   </div>
   <div class="footer-links">
     <a href="#"><i class="fas fa-shield-alt"></i> AUTHENTIC GUARANTEE</a>
     <a href="#"><i class="fas fa-truck"></i> FREE EXPRESS SHIPPING</a>
     <a href="#"><i class="fas fa-headset"></i> 24/7 VIP SUPPORT</a>
     <a href="#"><i class="fas fa-sync-alt"></i> 30-DAY RETURNS</a>
     <a href="#"><i class="fas fa-medal"></i> PRO WARRANTY</a>
   </div>
   <div class="copyright">
     © 2026 MAHYAR SHOP — The Ultimate Gaming Equipment Destination. All Rights Reserved.
   </div>
 </div>
</footer>

<script defer src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
/* -------------------------
   LOADING SCREEN ANIMATION
   ------------------------- */
document.addEventListener('DOMContentLoaded', function() {
  // Simulate loading progress
  const loadingBar = document.getElementById('loading-bar');
  const loadingScreen = document.getElementById('loading-screen');
  
  let progress = 0;
  const interval = setInterval(() => {
    progress += Math.random() * 15;
    if (progress > 95) {
      progress = 95;
    }
    loadingBar.style.width = `${progress}%`;
    
    if (progress > 95) {
      clearInterval(interval);
      // Fade out loading screen
      setTimeout(() => {
        loadingScreen.style.opacity = '0';
        loadingScreen.style.visibility = 'hidden';
        // Show hero content after loading
        document.querySelectorAll('.hero-content, .hero-badge, .hero h1, .hero p, .hero-btns').forEach(el => {
          el.classList.add('show');
        });
      }, 300);
    }
  }, 200);
  
  // Final cleanup
  setTimeout(() => {
    if (loadingScreen.style.opacity !== '0') {
      loadingScreen.style.opacity = '0';
      loadingScreen.style.visibility = 'hidden';
      document.querySelectorAll('.hero-content, .hero-badge, .hero h1, .hero p, .hero-btns').forEach(el => {
        el.classList.add('show');
      });
    }
  }, 3500);
  
  /* -------------------------
     PARTICLES.JS CONFIGURATION
     ------------------------- */
  if (typeof particlesJS !== 'undefined') {
    particlesJS('particles-js', {
      particles: {
        number: {value: 100, density: {enable: true, value_area: 800}},
        color: {value: '#6366f1'},
        shape: {type: 'circle'},
        opacity: {value: 0.18, random: true},
        size: {value: 4, random: true},
        line_linked: {
          enable: true,
          distance: 150,
          color: '#8b5cf6',
          opacity: 0.15,
          width: 1.5
        },
        move: {
          enable: true,
          speed: 2.5,
          direction: 'none',
          random: true,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'canvas',
        events: {
          onhover: {enable: true, mode: 'grab'},
          onclick: {enable: true, mode: 'push'},
          resize: true
        },
        modes: {
          grab: {distance: 160, line_linked: {opacity: 0.35}},
          push: {particles_nb: 5}
        }
      },
      retina_detect: true
    });
    
    // Adjust particles for light mode
    const isLightMode = document.body.classList.contains('light');
    if (isLightMode) {
      const pjs = window.pJSDom[0].pJS;
      pjs.particles.color.value = '#7c3aed';
      pjs.particles.line_linked.color = '#8b5cf6';
      pjs.fn.particlesRefresh();
    }
  }
});

/* -------------------------
   ESCAPE FUNCTION FOR XSS PREVENTION
   ------------------------- */
function escapeHtml(unsafe) {
  if (typeof unsafe !== 'string') return unsafe;
  return unsafe
    .replace(/&/g, "&amp;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&#039;");
}

/* -------------------------
   DATA & INITIAL STATE
   ------------------------- */
const productsData = [
 {id:1,name:"Nexus Pro Headset",price:129,cat:"headset",rating:4.9,reviews:186,
  img:"images/headset.svg",
  description:"Tournament-grade wireless headset with 50mm drivers, 3D spatial audio, and 40-hour battery life. Features noise-cancelling mic and premium memory foam ear cushions."},
 {id:2,name:"Aurora RGB Gaming Mouse",price:89,cat:"mouse",rating:4.8,reviews:245,new:true,
  img:"images/mouse.svg",
  description:"Ultra-lightweight 60g gaming mouse with 26,000 DPI optical sensor, 8 programmable buttons, and customizable per-key RGB lighting. Designed for esports professionals."},
 {id:3,name:"Vortex Mechanical Keyboard",price:159,cat:"keyboard",rating:4.9,reviews:178,oldPrice:189,
  img:"images/keyboard.svg",
  description:"Hot-swappable mechanical keyboard with PBT keycaps, customizable RGB per-key lighting, and aircraft-grade aluminum frame. Features silent mechanical switches for late-night gaming."},
 {id:4,name:"Phantom Wireless Earbuds",price:119,cat:"headset",rating:4.7,reviews:132,
  img:"images/earbuds.svg",
  description:"True wireless earbuds with active noise cancellation, transparency mode, and 36-hour battery life with charging case. IPX7 waterproof rating for intense gaming sessions."},
 {id:5,name:"Apex Ultra-light Mouse",price:99,cat:"mouse",rating:4.9,reviews:98,new:true,
  img:"images/mouse.svg",
  description:"World's lightest gaming mouse at just 45g. Features honeycomb shell design, 19,000 DPI sensor, and PTFE feet for frictionless gliding. Perfect for FPS professionals."},
 {id:6,name:"Obsidian 60% Keyboard",price:139,cat:"keyboard",rating:4.8,reviews:112,
  img:"images/keyboard.svg",
  description:"Compact 60% mechanical keyboard with gasket mount design, sound dampening foam, and customizable RGB. Features pre-lubed switches and double-shot PBT keycaps for durability."},
 {id:7,name:"Titan Gaming Chair Pro",price:349,cat:"accessories",rating:4.9,reviews:87,
  img:"images/chair.svg",
  description:"Ergonomic gaming chair with 4D adjustable armrests, lumbar support system, and premium PU leather. Reclines to 155° with retractable footrest for ultimate comfort during long sessions."},
 {id:8,name:"Nebula 4K Gaming Monitor",price:499,cat:"accessories",rating:4.9,reviews:64,new:true,
  img:"images/monitor.svg",
  description:"32-inch 4K gaming monitor with 240Hz refresh rate, 1ms response time, and HDR1000. Features G-Sync/FreeSync Premium Pro, USB-C with 90W power delivery, and customizable RGB lighting."},
 {id:9,name:"Spectra RGB Mousepad",price:45,cat:"accessories",rating:4.7,reviews:215,
  img:"images/mousepad.svg",
  description:"Extra-large gaming mousepad with seamless stitched edges, optimized surface texture for pixel-perfect tracking, and customizable 16.8 million color RGB lighting with 15+ effects."},
 {id:10,name:"Pulse Streaming Bundle",price:279,cat:"accessories",rating:4.9,reviews:42,
  img:"images/streaming.svg",
  description:"Complete streaming setup including 4K webcam, condenser microphone with shock mount, ring light, and green screen. Plug-and-play USB connectivity with professional streaming software included."}
];

// Initialize cart, wishlist and theme from localStorage
let cart = JSON.parse(localStorage.getItem('cart') || '[]');
let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
let currentCat = 'all';
let filteredList = [...productsData];

/* DOM refs */
const productsEl = document.getElementById('products');
const featuredProductsEl = document.getElementById('featuredProducts');
const introEl = document.getElementById('intro');
const introProgressBar = document.getElementById('introProgressBar');
const getStartedBtn = document.getElementById('getStarted');
const skipIntroBtn = document.getElementById('skipIntro');
const searchInput = document.getElementById('searchInput');
const sortSelect = document.getElementById('sortSelect');
const priceRange = document.getElementById('priceRange');
const priceDisplay = document.getElementById('priceDisplay');
const rangeTrack = document.getElementById('rangeTrack');
const catBtns = document.querySelectorAll('.cat-btn');
const modal = document.getElementById('modal');
const modalContent = document.getElementById('modalContent');
const modalClose = document.getElementById('modalClose');
const cartCountEl = document.getElementById('cartCount');
const wishlistCountEl = document.getElementById('wishlistCount');
const toast = document.getElementById('toast');
const toastMessage = document.getElementById('toastMessage');
const cartPanel = document.getElementById('cartPanel');
const cartItemsList = document.getElementById('cartItemsList');
const cartPanelToggle = document.getElementById('cartPanelToggle');
const cartCloseBtn = document.getElementById('cartCloseBtn');
const wishlistPanelToggle = document.getElementById('wishlistPanelToggle');
const wishlistPanel = document.getElementById('wishlistPanel');
const wishlistItemsList = document.getElementById('wishlistItemsList');
const wishlistCloseBtn = document.getElementById('wishlistCloseBtn');
const cartPanelTotal = document.getElementById('cartPanelTotal');
const themeBtn = document.getElementById('themeBtn');
const clearCartBtn = document.getElementById('clearCartBtn');
const checkoutBtn = document.getElementById('checkoutBtn');
const shopNowBtn = document.getElementById('shopNowBtn');
const exploreBtn = document.getElementById('exploreBtn');
const backToTopBtn = document.getElementById('backToTopBtn');
const fabBtn = document.getElementById('fabBtn');

/* -------------------------
   THEME PERSISTENCE
   ------------------------- */
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'light') {
 document.body.classList.add('light');
 themeBtn.innerHTML = '<i class="fas fa-sun"></i>';
 themeBtn.setAttribute('aria-label', 'Toggle to dark theme');
} else {
 themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
 themeBtn.setAttribute('aria-label', 'Toggle to light theme');
}

/* -------------------------
   RENDER FEATURED PRODUCTS
   ------------------------- */
function renderFeaturedProducts(){
 featuredProductsEl.innerHTML = '';
 // Show only top 3 featured products
 const featured = productsData.slice(0, 3);
 
 featured.forEach(p => {
   const card = document.createElement('article');
   card.className = 'card';
   card.setAttribute('aria-label', `${escapeHtml(p.name)} - $${p.price}`);
   
   // Create badge if needed
   let badgeHTML = '';
   if (p.oldPrice) {
     badgeHTML = `<div class="badge"><i class="fas fa-tag"></i> SPECIAL OFFER</div>`;
   } else if (p.new) {
     badgeHTML = `<div class="badge new"><i class="fas fa-sparkles"></i> NEW RELEASE</div>`;
   }
   
   // Create rating stars
   const fullStars = Math.floor(p.rating);
   const hasHalfStar = p.rating % 1 !== 0;
   let starsHTML = '';
   for (let i = 0; i < 5; i++) {
     if (i < fullStars) {
       starsHTML += '<i class="fas fa-star"></i>';
     } else if (i === fullStars && hasHalfStar) {
       starsHTML += '<i class="fas fa-star-half-alt"></i>';
     } else {
       starsHTML += '<i class="far fa-star"></i>';
     }
   }
   
   const safeName = escapeHtml(p.name);
   
   card.innerHTML = `
     ${badgeHTML}
     <button type="button" class="wishlist-btn ${wishlist.includes(p.id) ? 'active' : ''}" data-id="${p.id}" aria-label="${wishlist.includes(p.id) ? 'Remove from wishlist' : 'Add to wishlist'}">
       <i class="far fa-heart"></i>
     </button>
     <div class="card-img-container">
       <img loading="lazy" src="${escapeHtml(p.img)}" alt="${safeName} - product image">
     </div>
     <div class="card-content">
       <h3>${safeName}</h3>
       <p>${escapeHtml(p.description || 'Premium gaming equipment for professionals')}</p>
       <div class="rating">
         ${starsHTML}
         <span>${p.rating.toFixed(1)} (${p.reviews})</span>
       </div>
       <div class="price">
         $${p.price}
         ${p.oldPrice ? `<span class="old-price">$${p.oldPrice}</span>` : ''}
       </div>
       <div class="card-actions">
         <button type="button" class="small-btn quick-btn" data-id="${p.id}" aria-label="Quick view ${safeName}">
           <i class="fas fa-eye"></i> DETAILS
         </button>
         <button type="button" class="btn add-btn" data-id="${p.id}" aria-label="Add ${safeName} to cart">
           <i class="fas fa-cart-plus"></i> ADD
         </button>
       </div>
     </div>
   `;
   
   // Add event listeners
   card.querySelector('.quick-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     openModal(p.id);
   });
   card.querySelector('.add-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     addToCart(p.id, 1);
   });
   card.querySelector('.wishlist-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     toggleWishlist(p.id);
   });
   
   // Card click opens modal
   card.addEventListener('click', (e) => {
     if (e.target.closest('button')) return;
     openModal(p.id);
   });
   
   featuredProductsEl.appendChild(card);
 });
 
 // Reveal cards with animation
 setTimeout(() => {
   document.querySelectorAll('.featured-grid .card').forEach((c, i) => {
     setTimeout(() => c.classList.add('show'), i * 150);
   });
 }, 100);
}

/* -------------------------
   RENDER PRODUCTS
   ------------------------- */
function renderProducts(list){
 productsEl.innerHTML = '';
 list.forEach((p, i) => {
   const card = document.createElement('article');
   card.className = 'card';
   card.setAttribute('aria-label', `${escapeHtml(p.name)} - $${p.price}`);
   
   // Create badge if needed
   let badgeHTML = '';
   if (p.oldPrice) {
     badgeHTML = `<div class="badge"><i class="fas fa-tag"></i> SPECIAL OFFER</div>`;
   } else if (p.new) {
     badgeHTML = `<div class="badge new"><i class="fas fa-sparkles"></i> NEW</div>`;
   }
   
   // Create rating stars
   const fullStars = Math.floor(p.rating);
   const hasHalfStar = p.rating % 1 !== 0;
   let starsHTML = '';
   for (let i = 0; i < 5; i++) {
     if (i < fullStars) {
       starsHTML += '<i class="fas fa-star"></i>';
     } else if (i === fullStars && hasHalfStar) {
       starsHTML += '<i class="fas fa-star-half-alt"></i>';
     } else {
       starsHTML += '<i class="far fa-star"></i>';
     }
   }
   
   const safeName = escapeHtml(p.name);
   
   card.innerHTML = `
     ${badgeHTML}
     <button type="button" class="wishlist-btn ${wishlist.includes(p.id) ? 'active' : ''}" data-id="${p.id}" aria-label="${wishlist.includes(p.id) ? 'Remove from wishlist' : 'Add to wishlist'}">
       <i class="far fa-heart"></i>
     </button>
     <div class="card-img-container">
       <img loading="lazy" src="${escapeHtml(p.img)}" alt="${safeName} - product image">
     </div>
     <div class="card-content">
       <h3>${safeName}</h3>
       <p>${escapeHtml(p.description || 'Premium gaming equipment for professionals')}</p>
       <div class="rating">
         ${starsHTML}
         <span>${p.rating.toFixed(1)} (${p.reviews})</span>
       </div>
       <div class="price">
         $${p.price}
         ${p.oldPrice ? `<span class="old-price">$${p.oldPrice}</span>` : ''}
       </div>
       <div class="card-actions">
         <button type="button" class="small-btn quick-btn" data-id="${p.id}" aria-label="Quick view ${safeName}">
           <i class="fas fa-eye"></i> DETAILS
         </button>
         <button type="button" class="btn add-btn" data-id="${p.id}" aria-label="Add ${safeName} to cart">
           <i class="fas fa-cart-plus"></i> ADD
         </button>
       </div>
     </div>
   `;
   
   // Add event listeners
   card.querySelector('.quick-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     openModal(p.id);
   });
   card.querySelector('.add-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     addToCart(p.id, 1);
   });
   card.querySelector('.wishlist-btn')?.addEventListener('click', (e) => {
     e.stopPropagation();
     toggleWishlist(p.id);
   });
   
   // Card click opens modal
   card.addEventListener('click', (e) => {
     if (e.target.closest('button')) return;
     openModal(p.id);
   });
   
   productsEl.appendChild(card);
 });
 
 revealCards();
}

function revealCards(){
 document.querySelectorAll('.card').forEach((c, i) => {
   setTimeout(() => c.classList.add('show'), i * 120);
 });
}

/* -------------------------
   INITIAL RENDER
   ------------------------- */
// Show skeleton first
function showSkeleton(count = 10){
 productsEl.innerHTML = '';
 for(let i = 0; i < count; i++){
   const s = document.createElement('div');
   s.className = 'skeleton';
   s.setAttribute('aria-hidden', 'true');
   productsEl.appendChild(s);
 }
}
showSkeleton();
renderFeaturedProducts();

// Render products after delay
setTimeout(() => { 
 applyAllFiltersAndRender(); 
}, 1200);

/* -------------------------
   FILTER / SORT / SEARCH
   ------------------------- */
function debounce(func, delay) {
 let timer;
 return (...args) => {
   clearTimeout(timer);
   timer = setTimeout(() => func.apply(this, args), delay);
 };
}

function applyAllFiltersAndRender(){
 const max = Number(priceRange.value);
 const search = searchInput.value.trim().toLowerCase();
 const cat = currentCat;
 let list = productsData.filter(p => 
   (cat === 'all' || p.cat === cat) && 
   p.price <= max && 
   p.name.toLowerCase().includes(search)
 );
 const sort = sortSelect.value;
 if(sort === 'price-asc') list.sort((a, b) => a.price - b.price);
 else if(sort === 'price-desc') list.sort((a, b) => b.price - a.price);
 else if(sort === 'name-asc') list.sort((a, b) => a.name.localeCompare(b.name, 'en'));
 else if(sort === 'rating-desc') list.sort((a, b) => b.rating - a.rating);
 filteredList = list;
 renderProducts(list);
}

// Debounced search
const debouncedSearch = debounce(applyAllFiltersAndRender, 350);
searchInput.addEventListener('input', debouncedSearch);

// Price range with visual track
priceRange.addEventListener('input', () => {
 const value = priceRange.value;
 const min = priceRange.min;
 const max = priceRange.max;
 const percent = ((value - min) / (max - min)) * 100;
 rangeTrack.style.width = `${percent}%`;
 priceDisplay.innerText = '$' + value;
 applyAllFiltersAndRender();
});

sortSelect.addEventListener('change', applyAllFiltersAndRender);

catBtns.forEach(b => {
 b.addEventListener('click', () => {
   catBtns.forEach(x => {
     x.classList.remove('active');
     x.setAttribute('aria-pressed', 'false');
   });
   b.classList.add('active');
   b.setAttribute('aria-pressed', 'true');
   currentCat = b.dataset.cat;
   applyAllFiltersAndRender();
 });
});

/* -------------------------
   MODAL (product quickview)
   ------------------------- */
function openModal(id){
 const p = productsData.find(x => x.id === id);
 if (!p) return;
 
 const safeName = escapeHtml(p.name);
 
 // Create rating stars
 const fullStars = Math.floor(p.rating);
 const hasHalfStar = p.rating % 1 !== 0;
 let starsHTML = '';
 for (let i = 0; i < 5; i++) {
   if (i < fullStars) {
     starsHTML += '<i class="fas fa-star"></i>';
   } else if (i === fullStars && hasHalfStar) {
     starsHTML += '<i class="fas fa-star-half-alt"></i>';
   } else {
     starsHTML += '<i class="far fa-star"></i>';
   }
 }
 
 // Create badge if needed
 let badgeHTML = '';
 if (p.oldPrice) {
   badgeHTML = `<span class="badge" style="background:linear-gradient(90deg, var(--danger), #f97316); margin-left:10px; padding:6px 16px; border-radius:50px; font-size:16px; font-weight:800"><i class="fas fa-tag"></i> SPECIAL OFFER</span>`;
 } else if (p.new) {
   badgeHTML = `<span class="badge" style="background:linear-gradient(90deg, var(--success), #22c55e); margin-left:10px; padding:6px 16px; border-radius:50px; font-size:16px; font-weight:800"><i class="fas fa-sparkles"></i> NEW RELEASE</span>`;
 }
 
 modalContent.innerHTML = `
   <div class="modal-img">
     <img loading="lazy" src="${escapeHtml(p.img)}" alt="${safeName} - large image">
   </div>
   <div class="modal-info">
     <h2 id="modalTitle">${safeName} ${badgeHTML}</h2>
     <div class="rating" style="justify-content:flex-start; margin:12px 0">
       ${starsHTML}
       <span style="margin-left:12px; color:var(--text-secondary); font-weight:600">${p.rating.toFixed(1)} (${p.reviews} reviews)</span>
     </div>
     <p class="modal-description">${escapeHtml(p.description)}</p>
     <div class="modal-price">
       $${p.price}
       ${p.oldPrice ? `<span class="old-price">$${p.oldPrice}</span>` : ''}
     </div>
     <div class="modal-actions">
       <div class="quantity-selector">
         <button type="button" class="quantity-btn" id="decQty"><i class="fas fa-minus"></i></button>
         <span class="quantity-display" id="itemQuantity">1</span>
         <button type="button" class="quantity-btn" id="incQty"><i class="fas fa-plus"></i></button>
       </div>
       <div class="modal-btns">
         <button type="button" id="modalAddBtn" class="btn modal-add-btn" aria-label="Add ${safeName} to cart">
           <i class="fas fa-shopping-cart"></i> ADD TO CART ($${p.price})
         </button>
         <button type="button" id="modalWishlistBtn" class="modal-wishlist-btn ${wishlist.includes(p.id) ? 'active' : ''}" aria-label="${wishlist.includes(p.id) ? 'Remove from wishlist' : 'Add to wishlist'}">
           <i class="far fa-heart"></i> 
           <span>${wishlist.includes(p.id) ? 'REMOVE FROM WISHLIST' : 'ADD TO WISHLIST'}</span>
         </button>
       </div>
     </div>
   </div>
 `;
 
 // Show modal with animation
 modal.style.display = 'flex';
 setTimeout(() => {
   modalContent.classList.add('show');
 }, 10);
 
 modal.setAttribute('aria-hidden', 'false');
 document.body.style.overflow = 'hidden';
 
 // Quantity selector logic
 let quantity = 1;
 const qtyDisplay = document.getElementById('itemQuantity');
 const decBtn = document.getElementById('decQty');
 const incBtn = document.getElementById('incQty');
 
 decBtn.addEventListener('click', () => {
   if (quantity > 1) {
     quantity--;
     qtyDisplay.textContent = quantity;
     document.getElementById('modalAddBtn').innerHTML = `<i class="fas fa-shopping-cart"></i> ADD TO CART ($${(p.price * quantity).toFixed(2)})`;
   }
 });
 
 incBtn.addEventListener('click', () => {
   if (quantity < 10) {
     quantity++;
     qtyDisplay.textContent = quantity;
     document.getElementById('modalAddBtn').innerHTML = `<i class="fas fa-shopping-cart"></i> ADD TO CART ($${(p.price * quantity).toFixed(2)})`;
   }
 });
 
 // Add event listeners
 document.getElementById('modalAddBtn')?.addEventListener('click', () => { 
   addToCart(p.id, quantity); 
   closeModal();
 });
 
 document.getElementById('modalWishlistBtn')?.addEventListener('click', () => { 
   toggleWishlist(p.id);
   const btn = document.getElementById('modalWishlistBtn');
   const icon = btn.querySelector('i');
   const span = btn.querySelector('span');
   if (wishlist.includes(p.id)) {
     btn.classList.add('active');
     icon.className = 'fas fa-heart';
     span.textContent = 'REMOVE FROM WISHLIST';
   } else {
     btn.classList.remove('active');
     icon.className = 'far fa-heart';
     span.textContent = 'ADD TO WISHLIST';
   }
 });
 
 // Focus management
 const addBtn = document.getElementById('modalAddBtn');
 if (addBtn) addBtn.focus();
}

function closeModal(){
 modalContent.classList.remove('show');
 setTimeout(() => {
   modal.style.display = 'none';
   modal.setAttribute('aria-hidden', 'true');
   document.body.style.overflow = '';
 }, 350);
 document.getElementById('products')?.focus();
}

modalClose.addEventListener('click', closeModal);
modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
document.addEventListener('keydown', e => {
 if(e.key === 'Escape' && modal.style.display === 'flex') closeModal();
});

/* -------------------------
   CART & WISHLIST MANAGEMENT
   ------------------------- */
function addToCart(id, quantity = 1){
 const existingItemIndex = cart.findIndex(item => item.id === id);
 
 if (existingItemIndex !== -1) {
   cart[existingItemIndex].quantity += quantity;
 } else {
   cart.push({ id, quantity });
 }
 
 localStorage.setItem('cart', JSON.stringify(cart));
 updateCartUI();
 showToast('Added to cart successfully', 'success');
 refreshCartPanel();
}

function toggleWishlist(id){
 const index = wishlist.indexOf(id);
 if (index === -1) {
   wishlist.push(id);
   showToast('Added to wishlist', 'wishlist');
 } else {
   wishlist.splice(index, 1);
   showToast('Removed from wishlist', 'wishlist');
 }
 
 localStorage.setItem('wishlist', JSON.stringify(wishlist));
 updateCartUI();
 refreshWishlistPanel();
 
 // Update wishlist buttons on page
 document.querySelectorAll(`.wishlist-btn[data-id="${id}"]`).forEach(btn => {
   if (index === -1) {
     btn.classList.add('active');
     btn.innerHTML = '<i class="fas fa-heart"></i>';
     btn.setAttribute('aria-label', 'Remove from wishlist');
   } else {
     btn.classList.remove('active');
     btn.innerHTML = '<i class="far fa-heart"></i>';
     btn.setAttribute('aria-label', 'Add to wishlist');
   }
 });
}

function updateCartUI(){
 const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
 cartCountEl.innerText = totalItems;
 wishlistCountEl.innerText = wishlist.length;
}

updateCartUI();

/* -------------------------
   CART & WISHLIST PANELS
   ------------------------- */
cartPanelToggle.addEventListener('click', () => { 
 const isOpen = cartPanel.classList.toggle('open');
 cartPanel.setAttribute('aria-hidden', !isOpen);
 cartPanelToggle.setAttribute('aria-expanded', isOpen);
 if (isOpen) refreshCartPanel();
});

cartCloseBtn.addEventListener('click', () => {
 cartPanel.classList.remove('open');
 cartPanel.setAttribute('aria-hidden', 'true');
 cartPanelToggle.setAttribute('aria-expanded', 'false');
});

wishlistPanelToggle.addEventListener('click', () => { 
 const isOpen = wishlistPanel.classList.toggle('open');
 wishlistPanel.setAttribute('aria-hidden', !isOpen);
 wishlistPanelToggle.setAttribute('aria-expanded', isOpen);
 if (isOpen) refreshWishlistPanel();
});

wishlistCloseBtn.addEventListener('click', () => {
 wishlistPanel.classList.remove('open');
 wishlistPanel.setAttribute('aria-hidden', 'true');
 wishlistPanelToggle.setAttribute('aria-expanded', 'false');
});

// Close panels when clicking outside
document.addEventListener('click', (e) => {
 if(cartPanel.classList.contains('open') && !cartPanel.contains(e.target) && !cartPanelToggle.contains(e.target)) {
   cartPanel.classList.remove('open');
   cartPanel.setAttribute('aria-hidden', 'true');
   cartPanelToggle.setAttribute('aria-expanded', 'false');
 }
 if(wishlistPanel.classList.contains('open') && !wishlistPanel.contains(e.target) && !wishlistPanelToggle.contains(e.target)) {
   wishlistPanel.classList.remove('open');
   wishlistPanel.setAttribute('aria-hidden', 'true');
   wishlistPanelToggle.setAttribute('aria-expanded', 'false');
 }
});

// Close panels with Escape key
document.addEventListener('keydown', (e) => {
 if(e.key === 'Escape') {
   if (cartPanel.classList.contains('open')) {
     cartPanel.classList.remove('open');
     cartPanel.setAttribute('aria-hidden', 'true');
     cartPanelToggle.setAttribute('aria-expanded', 'false');
   }
   if (wishlistPanel.classList.contains('open')) {
     wishlistPanel.classList.remove('open');
     wishlistPanel.setAttribute('aria-hidden', 'true');
     wishlistPanelToggle.setAttribute('aria-expanded', 'false');
   }
 }
});

function refreshCartPanel(){
 cartItemsList.innerHTML = '';
 if(cart.length === 0){
   cartItemsList.innerHTML = `
     <div style="padding:50px 20px; text-align:center; opacity:.85">
       <i class="fas fa-shopping-cart" style="font-size:56px; opacity:0.3; margin-bottom:25px"></i>
       <div style="font-size:24px; font-weight:700; margin-top:20px">YOUR CART IS EMPTY</div>
       <div style="margin-top:12px; font-size:18px">Add some premium gear to dominate your games</div>
     </div>
   `;
   cartPanelTotal.innerHTML = `TOTAL: <span>$0</span>`;
   return;
 }
 
 let total = 0;
 cart.forEach((item, index) => {
   const product = productsData.find(p => p.id === item.id);
   if (!product) return;
   
   const itemTotal = product.price * item.quantity;
   total += itemTotal;
   const safeName = escapeHtml(product.name);
   
   const div = document.createElement('div');
   div.className = 'cart-item';
   div.innerHTML = `
     <img src="${escapeHtml(product.img)}" alt="${safeName}" width="85" height="85">
     <div class="cart-item-info">
       <div class="cart-item-title">${safeName}</div>
       <div class="cart-item-price">$${product.price} × ${item.quantity} = $${itemTotal.toFixed(2)}</div>
       <div class="cart-item-quantity">
         <button type="button" class="quantity-change dec-item" data-index="${index}">-</button>
         <span class="quantity-display">${item.quantity}</span>
         <button type="button" class="quantity-change inc-item" data-index="${index}">+</button>
       </div>
     </div>
     <button type="button" class="remove-item" data-index="${index}" aria-label="Remove ${safeName} from cart">
       <i class="fas fa-times"></i>
     </button>
   `;
   cartItemsList.appendChild(div);
 });
 
 cartPanelTotal.innerHTML = `TOTAL: <span>$${total.toFixed(2)}</span>`;
 
 // Attach event listeners
 document.querySelectorAll('.dec-item').forEach(button => {
   button.addEventListener('click', (e) => {
     const index = parseInt(e.currentTarget.dataset.index, 10);
     if (isNaN(index)) return;
     if (cart[index].quantity > 1) {
       cart[index].quantity--;
     } else {
       cart.splice(index, 1);
     }
     localStorage.setItem('cart', JSON.stringify(cart));
     updateCartUI();
     refreshCartPanel();
     showToast('Item quantity updated', 'success');
   });
 });
 
 document.querySelectorAll('.inc-item').forEach(button => {
   button.addEventListener('click', (e) => {
     const index = parseInt(e.currentTarget.dataset.index, 10);
     if (isNaN(index)) return;
     if (cart[index].quantity < 10) {
       cart[index].quantity++;
       localStorage.setItem('cart', JSON.stringify(cart));
       updateCartUI();
       refreshCartPanel();
       showToast('Item quantity updated', 'success');
     }
   });
 });
 
 document.querySelectorAll('.remove-item').forEach(button => {
   button.addEventListener('click', (e) => {
     const index = parseInt(e.currentTarget.dataset.index, 10);
     if (isNaN(index)) return;
     cart.splice(index, 1);
     localStorage.setItem('cart', JSON.stringify(cart));
     updateCartUI();
     refreshCartPanel();
     showToast('Item removed from cart', 'error');
   });
 });
}

function refreshWishlistPanel(){
 wishlistItemsList.innerHTML = '';
 if(wishlist.length === 0){
   wishlistItemsList.innerHTML = `
     <div class="wishlist-empty">
       <i class="far fa-heart" style="font-size:56px; opacity:0.3; margin-bottom:25px"></i>
       <div style="font-size:24px; font-weight:700; margin-top:20px">YOUR WISHLIST IS EMPTY</div>
       <div style="margin-top:12px; font-size:18px">Save your favorite gear for later</div>
     </div>
   `;
   return;
 }
 
 wishlist.forEach(id => {
   const product = productsData.find(p => p.id === id);
   if (!product) return;
   
   const safeName = escapeHtml(product.name);
   
   const div = document.createElement('div');
   div.className = 'wishlist-item';
   div.innerHTML = `
     <img src="${escapeHtml(product.img)}" alt="${safeName}" width="85" height="85">
     <div class="wishlist-item-info">
       <div class="wishlist-item-title">${safeName}</div>
       <div class="wishlist-item-price">$${product.price}</div>
       <div class="wishlist-actions">
         <button type="button" class="add-to-cart-btn" data-id="${id}" aria-label="Add ${safeName} to cart">
           <i class="fas fa-cart-plus"></i> ADD TO CART
         </button>
         <button type="button" class="remove-wishlist-btn" data-id="${id}" aria-label="Remove ${safeName} from wishlist">
           <i class="fas fa-times"></i>
         </button>
       </div>
     </div>
   `;
   wishlistItemsList.appendChild(div);
 });
 
 // Attach event listeners
 document.querySelectorAll('.add-to-cart-btn').forEach(button => {
   button.addEventListener('click', (e) => {
     const id = parseInt(e.target.closest('button').dataset.id);
     addToCart(id, 1);
   });
 });
 
 document.querySelectorAll('.remove-wishlist-btn').forEach(button => {
   button.addEventListener('click', (e) => {
     const id = parseInt(e.target.closest('button').dataset.id);
     toggleWishlist(id);
   });
 });
}

refreshCartPanel();
refreshWishlistPanel();

clearCartBtn.addEventListener('click', () => {
 if(!confirm('Are you sure you want to completely empty your shopping cart? This action cannot be undone.')) return;
 cart = []; 
 localStorage.setItem('cart', '[]'); 
 updateCartUI(); 
 refreshCartPanel();
 showToast('Shopping cart cleared successfully', 'success');
});

checkoutBtn.addEventListener('click', () => { 
 if (cart.length === 0) {
   showToast('Your shopping cart is empty!', 'error');
   return;
 }
 alert('🚀 PAYMENT SYSTEM IS NOT ACTIVE IN DEMO VERSION.\n\nIn the real version, you would be securely redirected to our payment gateway with multiple payment options including credit card, PayPal, and cryptocurrency.'); 
});

/* -------------------------
   TOAST MESSAGES
   ------------------------- */
let toastTimer = null;
function showToast(text, type = 'success'){
 toastMessage.textContent = text;
 toast.className = 'toast';
 
 let icon = 'fa-check-circle';
 if (type === 'success') {
   toast.classList.add('success');
   icon = 'fa-check-circle';
 } else if (type === 'error') {
   toast.classList.add('error');
   icon = 'fa-exclamation-circle';
 } else if (type === 'wishlist') {
   toast.classList.add('wishlist');
   icon = 'fa-heart';
 }
 
 toast.innerHTML = `<i class="fas ${icon}"></i> <span>${text}</span>`;
 toast.classList.add('show');
 
 clearTimeout(toastTimer);
 toastTimer = setTimeout(() => toast.classList.remove('show'), 3500);
}

/* -------------------------
   THEME TOGGLE
   ------------------------- */
themeBtn.addEventListener('click', () => {
 document.body.classList.toggle('light');
 const isLight = document.body.classList.contains('light');
 localStorage.setItem('theme', isLight ? 'light' : 'dark');
 
 if (isLight) {
   themeBtn.innerHTML = '<i class="fas fa-sun"></i>';
   themeBtn.setAttribute('aria-label', 'Toggle to dark theme');
 } else {
   themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
   themeBtn.setAttribute('aria-label', 'Toggle to light theme');
 }
 
 // Update particles.js color scheme
 if (typeof particlesJS !== 'undefined') {
   const pjs = window.pJSDom[0].pJS;
   if (isLight) {
     pjs.particles.color.value = '#7c3aed';
     pjs.particles.line_linked.color = '#8b5cf6';
   } else {
     pjs.particles.color.value = '#6366f1';
     pjs.particles.line_linked.color = '#8b5cf6';
   }
   pjs.fn.particlesRefresh();
 }
});

/* -------------------------
   INTRO AUTO-PROGRESS & HANDLING
   ------------------------- */
let introProgress = 0;
const introInterval = setInterval(() => {
 introProgress += 0.5;
 introProgressBar.style.width = `${introProgress}%`;
 
 if (introProgress >= 100) {
   clearInterval(introInterval);
   introEl.style.display = 'none';
 }
}, 50);

getStartedBtn.addEventListener('click', () => { 
 introEl.style.display = 'none'; 
 clearInterval(introInterval);
 window.scrollTo({top: 850, behavior: 'smooth'});
});

skipIntroBtn.addEventListener('click', () => { 
 introEl.style.display = 'none'; 
 clearInterval(introInterval);
});

/* -------------------------
   BACK TO TOP & FAB BUTTONS
   ------------------------- */
window.addEventListener('scroll', () => {
 if (window.scrollY > 500) {
   backToTopBtn.classList.add('show');
   fabBtn.classList.add('show');
 } else {
   backToTopBtn.classList.remove('show');
   fabBtn.classList.remove('show');
 }
});

backToTopBtn.addEventListener('click', () => {
 window.scrollTo({top: 0, behavior: 'smooth'});
});

fabBtn.addEventListener('click', () => {
 cartPanelToggle.click();
});

/* -------------------------
   HERO BUTTONS
   ------------------------- */
shopNowBtn.addEventListener('click', () => {
 window.scrollTo({top: 1600, behavior: 'smooth'});
});

exploreBtn.addEventListener('click', () => {
 window.scrollTo({top: document.querySelector('.filters').offsetTop - 120, behavior: 'smooth'});
});

/* -------------------------
   ADDITIONAL BUTTON HANDLERS
   - View All, See More, Account demo actions
   - Enter key in search triggers filter
   ------------------------- */
const viewAllBtn = document.querySelector('.view-all-btn');
const seeMoreBtn = document.querySelector('.see-more-btn');
const userAccountBtn = document.querySelector('.icon-btn.user');

if (viewAllBtn) {
  viewAllBtn.addEventListener('click', () => {
    // Reset filters to show everything then scroll to products
    searchInput.value = '';
    sortSelect.value = 'default';
    priceRange.value = priceRange.max;
    priceDisplay.innerText = '$' + priceRange.value;
    rangeTrack.style.width = '100%';
    currentCat = 'all';
    catBtns.forEach(x => { x.classList.remove('active'); x.setAttribute('aria-pressed', 'false'); });
    document.querySelector('.cat-btn[data-cat="all"]')?.classList.add('active');
    document.querySelector('.cat-btn[data-cat="all"]')?.setAttribute('aria-pressed', 'true');
    applyAllFiltersAndRender();
    const target = document.querySelector('.products');
    if (target) window.scrollTo({ top: target.offsetTop - 80, behavior: 'smooth' });
  });
}

if (seeMoreBtn) {
  seeMoreBtn.addEventListener('click', () => {
    // Demo: append a small set of products cloned from existing ones to simulate "more" loading
    showToast('Loading more products...', 'success');
    const addCount = Math.min(6, productsData.length);
    let maxId = productsData.reduce((m, p) => Math.max(m, p.id), 0);
    const toClone = productsData.slice(0, addCount);
    toClone.forEach(p => {
      maxId++;
      const copy = Object.assign({}, p, { id: maxId });
      productsData.push(copy);
    });
    applyAllFiltersAndRender();
  });
}

if (userAccountBtn) {
  userAccountBtn.addEventListener('click', () => {
    showToast('Account area is a demo — sign-in not implemented.', 'error');
  });
}

// Allow Enter key in search to trigger filtering immediately
searchInput.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    e.preventDefault();
    applyAllFiltersAndRender();
  }
});

/* -------------------------
   PRICE RANGE TRACK INITIALIZATION
   ------------------------- */
const initRangeTrack = () => {
 const value = priceRange.value;
 const min = priceRange.min;
 const max = priceRange.max;
 const percent = ((value - min) / (max - min)) * 100;
 rangeTrack.style.width = `${percent}%`;
 priceDisplay.innerText = '$' + value;
};
initRangeTrack();

/* -------------------------
   NEWSLETTER FORM
   ------------------------- */
document.querySelector('.newsletter-form').addEventListener('submit', (e) => {
 e.preventDefault();
 const email = e.target.querySelector('.newsletter-input').value;
 if (email) {
   showToast('Thank you for subscribing! Check your email for exclusive offers.', 'success');
   e.target.reset();
 }
});

/* ===== NEON PARTICLE EFFECTS ===== */
function createParticles(x, y) {
  const particlesCount = 15;
  for (let i = 0; i < particlesCount; i++) {
    const particle = document.createElement('div');
    particle.style.position = 'fixed';
    particle.style.left = x + 'px';
    particle.style.top = y + 'px';
    particle.style.width = '8px';
    particle.style.height = '8px';
    particle.style.borderRadius = '50%';
    particle.style.pointerEvents = 'none';
    particle.style.zIndex = '9999';
    
    const colors = ['var(--neon-cyan)', 'var(--neon-pink)', 'var(--neon-purple)'];
    const randomColor = colors[Math.floor(Math.random() * colors.length)];
    particle.style.background = randomColor;
    particle.style.boxShadow = `0 0 10px ${randomColor}`;
    particle.style.animation = 'particleFloat 2s ease-out forwards';
    
    document.body.appendChild(particle);
    
    setTimeout(() => particle.remove(), 2000);
  }
}

// Click anywhere to create neon particles
document.addEventListener('click', (e) => {
  if (!e.target.closest('button, input, textarea, a')) {
    createParticles(e.clientX, e.clientY);
  }
});

/* ===== 3D GALLERY FLIP EFFECT ===== */
document.querySelectorAll('.gallery-item-3d').forEach((item, index) => {
  item.addEventListener('mouseenter', function() {
    this.style.animation = 'none';
  });
  item.addEventListener('mouseleave', function() {
    this.style.animation = `rotate3D ${3 + index}s ease-in-out infinite`;
    setTimeout(() => {
      this.style.animation = `rotate3D ${3 + index}s ease-in-out infinite`;
    }, 10);
  });
});

/* ===== NEON TEXT GLOW ===== */
const neonElements = document.querySelectorAll('[style*="color"]');
neonElements.forEach(el => {
  if (el.textContent.includes('CAROUSEL') || el.textContent.includes('GALLERY')) {
    el.style.animation = 'neonGlow 2s ease-in-out infinite';
  }
});

// End of script
</script>

<script>
// Global handler: replace broken images with a simple placeholder SVG
document.addEventListener('error', function(e){
  const t = e.target;
  if (t && t.tagName === 'IMG'){
    if (!t.dataset.fallbackApplied){
      t.dataset.fallbackApplied = '1';
      const svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 520">' +
        '<rect width="100%" height="100%" fill="#0a0b1a"/>' +
        '<text x="50%" y="50%" fill="#ffffff" font-family="Poppins, Arial, sans-serif" font-size="28" text-anchor="middle" dominant-baseline="middle">Image unavailable</text>' +
        '</svg>';
      t.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
      t.alt = t.alt || 'Image unavailable';
    }
  }
}, true);
</script>

<script>
// Structured data (Organization + WebSite)
(function(){
  try{
    const ld = {
      "@context":"https://schema.org",
      "@graph":[
        {"@type":"Organization","name":"Mahyar Shop","url":location.origin,"logo":location.origin+"/favicon.ico"},
        {"@type":"WebSite","url":location.origin,"name":"Mahyar Shop","potentialAction":{"@type":"SearchAction","target":location.origin+"/?s={search_term_string}","query-input":"required name=search_term_string"}}
      ]
    };
    const s = document.createElement('script');
    s.type = 'application/ld+json';
    s.text = JSON.stringify(ld);
    document.head.appendChild(s);
  }catch(e){console.warn('LD+JSON insert failed', e)}
})();

// Initialize particles after DOM is fully loaded
window.addEventListener('load', () => {
  // Small delay to ensure everything is ready
  setTimeout(() => {
    if (typeof particlesJS !== 'undefined') {
      const isLightMode = document.body.classList.contains('light');
      const pjs = window.pJSDom[0].pJS;
      if (isLightMode) {
        pjs.particles.color.value = '#7c3aed';
        pjs.particles.line_linked.color = '#8b5cf6';

        pjs.fn.particlesRefresh();
      }
    }
  }, 500);
});
</script>
</body>
</html>